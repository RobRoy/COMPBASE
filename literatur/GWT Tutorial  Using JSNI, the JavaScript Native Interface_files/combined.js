
(function($){$.fn.lazyload=function(options){var settings={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(options){$.extend(settings,options);}
var elements=this;if("scroll"==settings.event){$(settings.container).bind("scroll",function(event){var counter=0;elements.each(function(){if($.abovethetop(this,settings)||$.leftofbegin(this,settings)){}else if(!$.belowthefold(this,settings)&&!$.rightoffold(this,settings)){$(this).trigger("appear");}else{if(counter++>settings.failurelimit){return false;}}});var temp=$.grep(elements,function(element){return!element.loaded;});elements=$(temp);});}
this.each(function(){var self=this;if(undefined==$(self).attr("original")){$(self).attr("original",$(self).attr("src"));}
if("scroll"!=settings.event||undefined==$(self).attr("src")||settings.placeholder==$(self).attr("src")||($.abovethetop(self,settings)||$.leftofbegin(self,settings)||$.belowthefold(self,settings)||$.rightoffold(self,settings))){if(settings.placeholder){$(self).attr("src",settings.placeholder);}else{$(self).removeAttr("src");}
self.loaded=false;}else{self.loaded=true;}
$(self).one("appear",function(){if(!this.loaded){$("<img />").bind("load",function(){$(self).hide().attr("src",$(self).attr("original"))
[settings.effect](settings.effectspeed);self.loaded=true;}).attr("src",$(self).attr("original"));};});if("scroll"!=settings.event){$(self).bind(settings.event,function(event){if(!self.loaded){$(self).trigger("appear");}});}});$(settings.container).trigger(settings.event);return this;};$.belowthefold=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=$(window).height()+$(window).scrollTop();}else{var fold=$(settings.container).offset().top+$(settings.container).height();}
return fold<=$(element).offset().top-settings.threshold;};$.rightoffold=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=$(window).width()+$(window).scrollLeft();}else{var fold=$(settings.container).offset().left+$(settings.container).width();}
return fold<=$(element).offset().left-settings.threshold;};$.abovethetop=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=$(window).scrollTop();}else{var fold=$(settings.container).offset().top;}
return fold>=$(element).offset().top+settings.threshold+$(element).height();};$.leftofbegin=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=$(window).scrollLeft();}else{var fold=$(settings.container).offset().left;}
return fold>=$(element).offset().left+settings.threshold+$(element).width();};$.extend($.expr[':'],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"});})(jQuery);(function(ss){ss.setup_comments_interaction=function(){var cmts=$('.commentsNotes');function set_height(){cmts.css('height',($('.commentWrapper, .notesWrapper').height()+24)+'px');}
function show_post_comment(){$("div.h-user-message").css('display','block');$("div.h-non-user-message").css('display','block');}
function unsubscribe_button(){$.post(ss.comments.unsubscribe_url,{},function(response_data){$('.comments-unsubscribe').hide();$('.comments-subscribe').show().highlightOut();$('.comments-subscribe input')[0].checked=false;window.location.href=window.location.origin+window.location.pathname;});}
function unsubscribe_cancel(){$('.notice, .mainNotice').css('display','none');$('.comments-subscribe input')[0].checked=true;}
$('#cancel-unsubscribe').click(unsubscribe_cancel);$('#unsubscribe-button').click(unsubscribe_button);$(".h-post-comment-textarea").focus(show_post_comment);var notes_li=$('#notesList li').hide();var note=notes_li[0];ss.notes={onload:function(n){if(note){$(note).hide();}
note=notes_li[n-1];if(note){note=$(note).show();}else{note=$('<li></li>');$('#notesList').append(note);}
if(note.html()===''){note.html('<br/>').addClass('quiet');}
$('.commentsNotes .which-slide-value').html(n);}};if(!jQuery('.notesWrapper .slide-notes')[0]){jQuery('.commentsNotes .j-notes').toggle();}
var prevlink=$('.previous-link',ss.svComments);var nextlink=$('.next-link',ss.svComments);var startlabel=null;var endlabel=null;var totallabel=null;jQuery.extend(ss.comments,{template:ss.comments.template,create_url:ss.comments.create_url,update_url:ss.comments.update_url,destroy_url:ss.comments.destroy_url,unsubscribe_url:ss.comments.unsubscribe_url,slide_number:1,unsubscribe:function(){$('.comments-unsubscribe').hide();$('.comments-subscribe').show().highlightIn();$.post(ss.comments.unsubscribe_url,{},function(response_data){log(response_data);$('.comments-subscribe input')[0].checked=false;$('.comments-subscribe').show().highlightOut();$(".h-followup-comments .h-followup_email").show();});},onload:function(n){ss.comments.slide_number=n;},edit_comment:function(event){var li=jQuery(event.target).parents('li');var comment_id=li[0].id.split('-')[1];var commentbody=jQuery('.commentText',li);var form=jQuery('.update-form');jQuery('textarea',form).val(commentbody.html().replace(/<br[^>]*>/ig,"\n"));form.show().appendTo(li);commentbody.hide();},delete_comment_confirmed:function(li,comment_id){li.highlightIn();$.post(ss.comments.destroy_url,{id:comment_id},function(response_data){log(response_data);li.fadeOut('slow',function(){jQuery('.update-form',li).appendTo(ss.svComments).hide();li.remove();});});},delete_comment:function(event){$('.miniDialog').hide();var li=jQuery(event.target).parents('li');var comment_id=li[0].id.split('-')[1];var element=li.find('#confirmDialog-'+comment_id);element.find('.title').text('Are you sure you want to delete this comment?');element.show();var yesCallback=function(e){e.preventDefault();ss.comments.delete_comment_confirmed(li,comment_id);};var noCallback=function(e){e.preventDefault();};slideshare_object.miniDialog(element,yesCallback,noCallback);return false;},spam_comment_confirmed:function(li,comment_id){li.highlightIn();$.post(ss.comments.spam_url,{id:comment_id},function(response_data){log(response_data);li.fadeOut('slow',function(){jQuery('.update-form',li).appendTo(ss.svComments).hide();li.remove();});});},spam_comment:function(event){$('.miniDialog').hide();var li=jQuery(event.target).parents('li');var comment_id=li[0].id.split('-')[1];var element=li.find('#confirmDialog-'+comment_id);element.find('.title').text('Are you sure you want to mark this comment as spam?');element.show();var yesCallback=function(e){ss.comments.spam_comment_confirmed(li,comment_id);};var noCallback=function(e){};slideshare_object.miniDialog(element,yesCallback,noCallback);return false;},reply_to_comment:function(commentId,form){$.scrollTo($("textarea",form),500);$('textarea',form).focus();var commentOf=$('#'+commentId).children('a').children('img').attr('alt');$('textarea',form).val('@'+commentOf+' ');},post_comment:function(form){log("post_comment",form);$('#commentsList').attr('style','display: block;');$('textarea',ss.svComments).click();var comment=jQuery(ss.comments.slideview_template).addClass('comment');comment.find('a.action-spam').remove();comment.find('a.action-block').remove();comment.find('a.j-reply').remove();if(!ss.user.occupation){comment.children().remove('span.h-commenter-role');}else{$('span.h-commenter-role',comment).val(ss.user.occupation);log($('span.h-commenter-role',comment).text(', '+ss.user.occupation));}
if(!ss.user.organization){comment.children().remove('span.h-commenter-org');}else{$('span.h-commenter-org',comment).text(' at '+ss.user.organization);}
this.decorate_comment_user(comment,ss.user);$(".commentMeta .commentTimestamp",comment).text('less than a second ago');$(".commentText",comment).text($('textarea',form).val());comment.prependTo(ss.svCommentsul);ss.comments.total_count+=1;ss.comments.show_page(1,ss.comments.per_page,ss.comments.total_count);$.scrollTo(ss.svComments,500);comment.highlightIn();comment.add_undo("commenting",function(event,request,settings,err){comment.remove();if(request.responseText.match(/<html/i)){alert("Hey something went wrong :-(\nCould you try again?");}else{alert(request.responseText);}});var form_data={"followup_subscribe":($("input[type='checkbox']",form)[0].checked?1:0),"followup_email":$("input[name='followup_email']",form).val(),"slide_order":ss.comments.slide_number,"slide_id":ss.presentationId,"version":2,"comment[text]":$('textarea',form).val()};var that=this;$.post(ss.comments.create_url,form_data,function(response_data){if(response_data.suspended){window.location.replace('/login');}else{$(".commentText",comment).html((response_data.text||"")+'<br />'+
(response_data.embed||""));comment[0].id='comment-'+response_data.id;$(comment[0]).find('#confirmDialog').attr('id','confirmDialog-'+response_data.id);that.decorate_comment_user(comment,response_data.user);comment.highlightOut();$('textarea',form).val('');}},'json');},sanitize_edit_links:function(){var other_comments='#commentsList li:not(.author-'+ss.user.id+') ';var my_comments='#commentsList li.author-'+ss.user.id+' ';if(!ss.user.loggedin){$('#commentsList li .action-delete').remove();$('#commentsList li .action-edit').remove();$('#commentsList li .action-block').remove();$('#commentsList li .action-spam').remove();}else{$(other_comments+'.action-edit').remove();if(!ss.user.su&&!ss.user.owner){$(other_comments+'.action-delete').remove();}
$(my_comments+'.action-spam').remove();$(my_comments+'.j-reply').remove();if(!ss.user.su&&!ss.user.owner){$(other_comments+'.action-spam').remove();}
$(my_comments+'.action-block').remove();if(!ss.user.owner){$(other_comments+'.action-block').remove();}}},save_comments:function(){var commentFormContent=$('#postComment .j-post-comment-textarea').val();if(commentFormContent.length>0){window.cookie('comments',commentFormContent,{path:window.location.pathname});}
else{window.cookie('comments',null,{path:window.location.pathname});}},retrieve_and_post_comments:function(){if(window.cookie('comments')!==null){$('#postComment .j-post-comment-textarea').val(window.cookie('comments'));if(ss.user.loggedin){ss.comments.delete_saved_comments();ss.comments.post_comment($('#postComment').get());}}},delete_saved_comments:function(){if(window.cookie('comments')!==null){window.cookie('comments',null,{path:window.location.pathname});}},decorate_comment_user:function(comment,user){$(".j-author-photo img",comment).each(function(index,ele){ele.src=user.photo_url;ele.alt=user.login;});$(".j-author-photo .j-username",comment).each(function(index,ele){ele.href='/'+user.login;ele.title=user.login;});$(".j-author-photo",comment).each(function(index,ele){ele.href='/'+user.login;ele.title=user.user_description;});$(".j-author-photo .j-username",comment).text(user.name||user.login);},per_page:10,current_page:1,currently_shown:null,setup_scrolling_on_reply:function(){$('.j-reply').click(function(e){e.preventDefault();ss.comments.reply_to_comment($(this).closest('li.comment').attr('id'),ss.svCommentsForm);});},show_page:function(page,per_page,total_comments){per_page=per_page||this.per_page;total_comments=total_comments||jQuery('.comment',ss.svComments).length;var total_pages=(total_comments/per_page);var start_index=(page-1)*per_page;if(start_index>total_comments-1){start_index=total_comments-1;}
var end_index=start_index+per_page;if(end_index>total_comments-1){end_index=total_comments;}
if(this.currently_shown){jQuery('.h-comment-actions a',this.currently_shown).unbind('click');this.currently_shown.hide();}else{jQuery('.comment',ss.svComments).hide();}
var commentStringSingular=' comment';var commentStringPlural=' comments';this.currently_shown=jQuery('.comment',ss.svCommentsul).slice(start_index,end_index).show();(startlabel=startlabel||$('.comments-start',ss.svComments)).text(start_index+1);(endlabel=endlabel||$('.comments-end',ss.svComments)).text(end_index);(totallabel=totallabel||$('.comments-total',ss.svComments)).text(total_comments+((total_comments==1)?commentStringSingular:commentStringPlural));this.current_page=page;if(total_pages>1){prevlink.show();nextlink.show();}else{prevlink.hide();nextlink.hide();}
if(this.current_page<=1){prevlink.hide();}else if(this.current_page>=total_pages){nextlink.hide();}
jQuery('.action-edit',this.currently_shown).jsclick(ss.comments.edit_comment);jQuery('.action-delete',this.currently_shown).jsclick(ss.comments.delete_comment);jQuery('.action-spam',this.currently_shown).jsclick(ss.comments.spam_comment);$('.commentWrapper li').hover(function(){$('.commentMeta',this).children('.h-comment-actions').removeClass('hide');},function(){$('.commentMeta',this).children('.h-comment-actions').addClass('hide');});$('.commentWrapper li .commentActions a:contains(Reply)').addClass('j-reply');ss.comments.setup_scrolling_on_reply();}});ss.comments.retrieve_and_post_comments();var hasPlaceholder='placeholder'in document.createElement('input');if(!hasPlaceholder){$LAB.script('/javascripts/jquery.placeholder.js').wait(function(){$('.h-post-comment-textarea').placeholder();});}
$('.alertMessage a').click(function(e){e.preventDefault();});$('#login-provider-slideshare').bind('click',ss.comments.save_comments);prevlink.click(function(e){e.preventDefault();ss.comments.show_page(ss.comments.current_page-1);});nextlink.click(function(e){e.preventDefault();if(ss.comments.ajaxurl&&ss.comments.total_count>ss.comments.per_page){var loading=$(ss.loading_html);loading.appendTo(nextlink.parent());nextlink.hide();$.getJSON(ss.comments.ajaxurl,function(json){$.each(json,function(index,data){if(index>=ss.comments.per_page){var comment=jQuery(ss.comments.slideview_template).hide();if(data.user_occupation===''){comment.children().remove('span.h-commenter-role');}else{$('span.h-commenter-role',comment).text(', '+data.user_occupation);}
if(data.user_organization===''){comment.children().remove('span.h-commenter-org');}else{$('span.h-commenter-org',comment).text(' at '+data.user_organization);}
ss.comments.decorate_comment_user(comment,data);$(".commentMeta .commentTimestamp",comment).val(data.created_at);$(".commentText",comment).html(data.body);comment[0].id='comment-'+data.comment_id;$(comment[0]).find('#confirmDialog').attr('id','confirmDialog-'+data.comment_id);$(comment[0]).find('.action-block').attr('href','/'+ss.user.login+'/edit_privacy_options?tab=blocked&block_user='+
data.login);comment.addClass('author-'+data.user_id).addClass('comment');comment.appendTo(ss.svCommentsul);}});ss.comments.sanitize_edit_links();if(ss.setup_owner_interaction){ss.setup_owner_interaction();}
$('span.h-loading',nextlink.parent()).remove();ss.comments.show_page(ss.comments.current_page+1);ss.svCommentsul.highlightOut('transparent');});}else{ss.comments.show_page(ss.comments.current_page+1);}
ss.comments.ajaxurl=null;});ss.svCommentsForm.jssubmit(function(event){if($('textarea',ss.svComments).val().length===0){$('textarea',ss.svComments).val('');}
ss.comments.delete_saved_comments();ss.comments.post_comment(event.target);});jQuery('.update-form .action-cancel',ss.svComments).jsclick(function(event){var form=jQuery(event.target).parents('form');var li=form.hide().parents('.comment');jQuery('.commentText',li).show();});jQuery('.update-form .action-update',ss.svComments).jsclick(function(event){var form=jQuery(event.target).parents('form');var li=form.parents('.comment');var comment_id=li[0].id.split('-')[1];jQuery('.commentText',li).text($('textarea',form).val()).show();form.hide();li.highlightIn();$.post(ss.comments.update_url,{comment_id:comment_id,"comment[text]":$('textarea',form).val(),"version":2},function(response_data){response_data=response_data.split('|');var comment_id=response_data.shift();var div_id=response_data.shift();var comment_body=response_data.shift()||"";var comment_embed=response_data.shift()||"";jQuery('.commentText',li).html(comment_body+'<br />'+comment_embed).show();li.highlightOut();});});if(ss.user.commenter){$('.comments-unsubscribe',ss.svComments).show().jsclick(ss.comments.unsubscribe);$('.comments-subscribe',ss.svComments).hide();$('.comments-subscribe input',ss.svComments).each(function(index,ele){ele.checked=false;});}else{$('.comments-unsubscribe').hide();$('.comments-subscribe').show();}
ss.comments.show_page(ss.comments.current_page,ss.comments.per_page,ss.comments.total_count);ss.svComments.show();ss.svCommentsForm.show();jQuery('.tabs li a',ss.svComments).showhide('.svComments .comments-tab, .svComments .notes-tab');loadDataForSlide(slideshare_object.startSlide);if(slideshare_object.user.loggedin){$(".h-followup-comments .h-followup_email").remove();$('.comments-subscribe input',ss.svComments).each(function(index,ele){ele.checked=false;});}else{$(".h-followup-comments input[type='checkbox']").click(function(event){$(".h-followup-comments .h-followup_email").toggle();$(".h-followup-comments .h-followup_email:visible input").focus().select();});}};})(slideshare_object);window.loadDataForSlide=function(n){if(slideshare_object.slideshow.view_action_state==='unpublished'&&((slideshare_object.totalSlides<3&&n==slideshare_object.totalSlides)||(n==3))){var path=document.location.protocol+'//'+document.location.host+document.location.pathname;slideshare_object.post_slideshow_activity_to_facebook&&slideshare_object.post_slideshow_activity_to_facebook('view',path,function(response){log(response);if(response.id){$('.player').trigger('fb-view-published',response.id);}else if(response.error){$('.player').trigger('fb-view-failed',response.error);}});}
if(n==1&&$('.h-player-banner').is(':hidden')){if(slideshare_object.slideshow.is_audio){$('.playerAd').css('bottom','67px');}
$('.h-player-banner').slideDown('fast');var type;if(slideshare_object.slideshow.type=="presentation"){type='preso';}
if(slideshare_object.slideshow.type=="document"){type='doc';}
window._gaq.push(['_trackEvent','bigfoot_slideview',type+'-adshow']);}
if(slideshare_object.comments.onload){slideshare_object.comments.onload(n);slideshare_object.notes.onload(n);}else{setTimeout(function(){loadDataForSlide(n);},100);}};(function(ss){ss.setup_instruments_interaction=function(){var s;if(slideshare_object.deploy_environment=='production'){_qoptions={qacct:"p-abU44ONrAuwk2"};var _comscore=_comscore||[];_comscore.push({c1:"2",c2:"7400849"});}
if(slideshare_object.deploy_environment=='production'){newgaq=[];newgaq.push(['_setAccount','UA-2330466-1']);newgaq.push(['_trackPageview']);newgaq.push(['_setVar',slideshare_object.user.member_type]);if(!slideshare_object.user.loggedin){newgaq.push(['_setCustomVar',1,'member_type','LOGGEDOUT',1]);}else{if(slideshare_object.user.pro){newgaq.push(['_setCustomVar',1,'member_type','PRO',1]);}else{newgaq.push(['_setCustomVar',1,'member_type','FREE',1]);}}
_gaq=newgaq.concat(_gaq);}else{for(i=0;i<window._gaq.length;i++){log("Async GA:",window._gaq[i]);}
window._gaq.push=function(params){log("Async GA:",params);};}
window.fbAsyncInit=function(){FB.init({appId:slideshare_object.facebook_app_id,status:true,cookie:true,xfbml:true,oauth:true,channelUrl:slideshare_object.relative_static_origin_server+'channel.html'});if(FB&&FB.Event&&FB.Event.subscribe){FB.Event.subscribe('edge.create',function(targetUrl){_gaq.push(['_trackSocial','facebook','like',targetUrl]);_gaq.push(['_trackEvent','bigfoot_slideview','viralsharefacebook']);});}};$.fn.extend({evt_track:function(category,action,optional_label,optional_value,tracker){return this.click(function(event){window._gaq.push(['_trackEvent',category,action,optional_label,optional_value]);return true;});},evt_trackAjaxOkay:function(category,action,optional_label,optional_value,tracker){return this.bind('ajaxOkay',function(){window._gaq.push(['_trackEvent',category,action,optional_label,optional_value]);return true;});},live_evt_track:function(category,action,optional_label,optional_value,tracker){return this.live('click',function(event){window._gaq.push(['_trackEvent',category,action,optional_label,optional_value]);return true;});}});ss.slideshow.for_experiment&&window._gaq.push(['_trackEvent','related_experiment','slideshow_loaded']);$("#linkCollectLeads").evt_track("bigfoot_slideview","clickLinkCollectLeads","Slideshow:"+ss.slideshow.id+", User:"+ss.slideshow.user_name);$('.action-download a',ss.svTools).evt_track('bigfoot_slideview','downloadclick>'+
(ss.user.loggedin?"loggedin":"loggedout"));$('.action-addfav a,.action-fav a.edit',ss.svTools).evt_track('bigfoot_slideview','favoriteexpand');$('.action-addfav-edit .save,.action-addfav-new .save',ss.svTools).live('click',function(e){window._gaq.push(['_trackEvent','bigfoot_slideview','favoritesave']);return true;});$('#j-start-meeting-button').live_evt_track('bigfoot_slideview','zipcaststart');$('#meetingOptions .cancelMeetNow').live_evt_track('bigfoot_slideview','zipcastclose');$('.action-twitter').evt_track('bigfoot_slideview','twitterthis');$('.action-facebook').evt_track('bigfoot_slideview','shareonfacebook');$('.action-moretab').evt_track('bigfoot_slideview','onmore');$('.owner-only li a.h-prompt-slidecast').evt_track('slidecast','slideview_add_audio_click');$('.h-related-more-tab .tabs .j-related-slideshows a').evt_track('bigfoot_slideview','relatedslideshows_tab');$('.h-related-more-tab .tabs .j-more-slideshows a').evt_track('bigfoot_slideview','morebyuser_tab');$('#moreList li').evt_track('bigfoot_slideview','morebyusercontent');$('#relatedList li a').each(function(index,ele){ss.slideshow.for_experiment&&$(ele).evt_track('related_experiment','related_clicked');$(ele).evt_track('bigfoot_slideview','relatedcontent',''+(index+1));});$('.nav_home a',ss.header).evt_track('topnav_home');$('.nav_browse a',ss.header).evt_track('topnav_browse');$('.nav_slidespace a',ss.header).evt_track('topnav_myslidespace');$('.nav_upload a',ss.header).evt_track('topnav_upload');$('.nav_community a',ss.header).evt_track('topnav_community');$('.nav_widgets a',ss.header).evt_track('topnav_widgets');$('#slideview_on_linkedin').evt_track('bigfoot_slideview','on_linkedin');$('.twitter-follow-button').evt_track('bigfoot_slideview','follow_ss_twitter');$('#fb-follow-button').evt_track('bigfoot_slideview','follow_ss_facebook');$('.embedRepeat input').focus(function(){var action="";if(this.id=="embed-code2"){action="moreshareoptions>embed";}else if(this.id=="embedCodeWP2"){action="moreshareoptions>Wordpress";}else{action="moreshareoptions>WOrelatedpreso";}
window._gaq.push(['_trackEvent','bigfoot_slideview',action]);});$('.j-desc-more').evt_track('bigfoot_slideview','description>more');$('.j-desc-less').evt_track('bigfoot_slideview','description>less');$('.title .h-author-name').evt_track('bigfoot_slideview','authorlinkclick');$('#commentsList .j-username').evt_track('bigfoot_slideview','commentuserlinkclick');$('#favsList .h-username').evt_track('bigfoot_slideview','favoriteuserlinkclick');$('.sponsored-link-bottom').live('click',function(){window._gaq.push(['_trackEvent','bigfoot_slideview','promotecontent']);});$('#h-referred-signup-cta .ctaStrong').evt_track('bigfoot_slideview','sv_top_referred-cta');if(ss.promoted){window._gaq.push(['_trackEvent','bigfoot_slideview','promoted','show']);$('#relatedList li:lt('+ss.promoted+')').evt_track('bigfoot_slideview','promoted','click');}
if(ss.contests){$.each(ss.contests,function(index,contest){window._gaq.push(['_trackEvent',"bigfoot_contest",contest.contestLink,"slideview"]);});}
window._gaq.push(['_trackEvent','bigfoot_slideview','pageload',ss.gam_cat_name]);if(ss.player){if((jQuery('#noflash').length===0)||(jQuery('#noflash').is(':visible')===false)){var playerurl=ss.player.url;if(playerurl.match('swf/ssplayer2.swf')){window._gaq.push(['_trackEvent','bigfoot_slideview','playerload','normal']);}else if(playerurl.match('swf/playerv.swf')){window._gaq.push(['_trackEvent','bigfoot_slideview','playerload','video']);}else if(playerurl.match('swf/doc_player.swf')){window._gaq.push(['_trackEvent','bigfoot_slideview','playerload','doc']);}else{window._gaq.push(['_trackEvent','bigfoot_slideview','playerload','a9']);}}else{try{var flashversion=deconcept.SWFObjectUtil.getPlayerVersion().major;window._gaq.push(['_trackEvent','bigfoot_slideview','playerloadfail',flashversion]);}catch(e){window._gaq.push(['_trackEvent','bigfoot_slideview','playerloadfail','unknown']);}}}
ss.track_shareform=function(share_li){window._gaq.push(['_trackEvent','bigfoot_slideview','sharethisslideshowopen']);$('#send-button',share_li).evt_track('bigfoot_share','sendemail').evt_trackAjaxOkay('bigfoot_share','sendemail','success');$('#import-button',share_li).evt_track('bigfoot_share','importfriends').evt_trackAjaxOkay('bigfoot_share','importfriends','success');$('#message_to',share_li).evt_track('bigfoot_share','sharewith');$('#message_body',share_li).evt_track('bigfoot_share','yourmessage');$('#all-contacts,#recently-emailed,#all-addresses',share_li).click(function(event){var ul=$(event.target).parents('ul[id]')[0];if(ul.id=='all-contacts'){window._gaq.push(['_trackEvent','bigfoot_share','contacts']);}else if(ul.id=='recently-emailed'){window._gaq.push(['_trackEvent','bigfoot_share','recent']);}else if(ul.id=='all-addresses'){window._gaq.push(['_trackEvent','bigfoot_share','imported-address']);}});};ss.last_iframe=null;jQuery('.lostchild').mouseenter(function(event){ss.last_iframe=event.target;});jQuery('.lostchild').mouseleave(function(event){ss.last_iframe=null;});window.track_beforeunload_event=function(){if(ss.last_iframe){ss.last_iframe=$(ss.last_iframe).parents('.lostchild')[0]||ss.last_iframe;var identifier=ss.last_iframe.className.replace(/lostchild|adbox-outer/g,'').replace(/^\s+|\s+$/g,'').split(/\s+/).sort().join(' ');ss.last_iframe=null;}};var old_onbeforeunload=window.onbeforeunload;window.onbeforeunload=function(){var value=window.track_beforeunload_event();value=value||(old_onbeforeunload&&old_onbeforeunload.apply(window,arguments));if(value){return value;}};jQuery(document).blur(track_beforeunload_event);};})(slideshare_object);$(window).load(function(){(function(d){var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];if(d.getElementById(id)){return;}
js=d.createElement('script');js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all.js";ref.parentNode.insertBefore(js,ref);}(document));e=document.createElement('script');e.type='text/javascript';e.async=true;e.src=document.location.protocol+'//apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(e,s);window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f);}});}(document,"script","twitter-wjs"));e=document.createElement('script');e.type='text/javascript';e.async=true;e.src=document.location.protocol+'//platform.linkedin.com/in.js';s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(e,s);twttr.ready(function(twttr){twttr.events.bind('tweet',function(event){if(event){var targetUrl;if(event.target&&event.target.nodeName=='IFRAME'){targetUrl=slideshare_object.slideshow.ss_url;}
_gaq.push(['_trackSocial','twitter','tweet',targetUrl]);_gaq.push(['_trackEvent','bigfoot_slideview','viralsharetwitter']);}});twttr.events.bind('click',function(event){_gaq.push(['_trackEvent','bigfoot_slideview','viralsharetwitter_click']);});});$('.socialActions').delay(3000).fadeToggle(500,'swing');if(slideshare_object.deploy_environment=='production'){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);var qa=document.createElement('script');qa.type='text/javascript';qa.async=true;qa.src='http://edge.quantserve.com/quant.js';s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(qa,s);var ca=document.createElement("script");ca.type='text/javascript';s=document.getElementsByTagName("script")[0];ca.async=true;ca.src=(document.location.protocol=="https:"?"https://sb":"http://b")+".scorecardresearch.com/beacon.js";s.parentNode.insertBefore(ca,s);}});slideshare_object.setup_lazyload=function(){var userPlaceholder=slideshare_object.userimage_placeholder;var slideshowPlaceholder=slideshare_object.slideshow_placeholder;var items=[{selector:'.commentWrapper>li img.nickname',options:{effect:'fadeIn',placeholder:userPlaceholder}},{selector:'.favWrapper>li a.favoriter img',options:{effect:'fadeIn',placeholder:userPlaceholder}},{selector:'.downloadWrapper>li a.downloader img',options:{effect:'fadeIn',placeholder:userPlaceholder}},{selector:'.h-author-slideshows li:gt(7) img.h-thumbnail',options:{effect:'fadeIn',placeholder:slideshowPlaceholder,container:'#moreList'}},{selector:'.h-related-slideshows li:gt(7) img.h-thumbnail',options:{effect:'fadeIn',placeholder:slideshowPlaceholder,container:'#relatedList'}}];$(items).each(function(i,item){$(item.selector).lazyload(item.options);});};window.pageTracker={_trackPageview:function(){log("_trackPageview",arguments);return true;},_trackEvent:function(){log("_trackEvent",arguments);return true;},_setVar:function(){log("_setVar",arguments);return true;}};window.log=((slideshare_object.dev&&window.console)?(function(){console.log.apply(console,arguments);}):(function(){}));String.prototype.supplant=function(o){return this.replace(/\{([^{}]*)\}/g,function(a,b){var r=o[b];return typeof r==='string'||typeof r==='number'?r:a;});};(function($){$.fn.extend({jsclick:function(fn){var that=this;var newfn=function(event){fn.apply(that,arguments);event.preventDefault();event.stopPropagation();};this.click(newfn);return newfn;},jschange:function(fn){var that=this;var newfn=function(event){fn.apply(that,arguments);event.preventDefault();event.stopPropagation();};this.change(newfn);return newfn;},jssubmit:function(fn){var that=this;var newfn=function(event){fn.apply(that,arguments);event.preventDefault();event.stopPropagation();};this.submit(newfn);return newfn;},add_undo:function(mesg,fn){if(slideshare_object.ajax_undo){slideshare_object.ajax_undo.push([mesg,fn,this]);}},showhide:function(sel,scope){this.jsclick(function(){$(sel,scope).toggle();if(slideshare_object.align_lostchildren){slideshare_object.align_lostchildren();}});return this;}});})(jQuery);slideshare_object.ready=(function(){slideshare_object.timer.ready=(new Date()).getTime();slideshare_object.ajax_undo=[];slideshare_object.add_undo=function(mesg,fn){slideshare_object.ajax_undo.push([mesg,fn]);};$("body").bind("ajaxSend",function(elm,xhr,s){if(s.type=="GET"){return;}
if(s.data&&s.data.match(new RegExp("\\b"+slideshare_object._auth_token_name+"="))){return;}
if(s.data){s.data=s.data+"&";}else{s.data="";xhr.setRequestHeader("Content-Type",s.contentType);}
s.data=s.data+encodeURIComponent(slideshare_object._auth_token_name)+"="+encodeURIComponent(slideshare_object._auth_token);});$(document.body).ajaxError(function(event,request,settings,err){log("ajaxError",event,request,settings,settings.url,err);var undofn=slideshare_object.ajax_undo.shift();if(undofn&&undofn[2]){undofn[2].trigger('ajaxFail',arguments);}
if(undofn){undofn[1](event,request,settings,err);}});$(document.body).ajaxSuccess(function(event,request,settings){var undofn=slideshare_object.ajax_undo.shift();if(undofn&&undofn[2]){undofn[2].trigger('ajaxOkay',arguments);}});slideshare_object.sessid=encodeURIComponent((document.cookie.match(/_cookie_id=([^;]*)/)||[])[1]);slideshare_object.add_deferred=function(fn){if(!slideshare_object.deferred){slideshare_object.deferred={list:[],timeout:null,next_action:function(){log("Wakie wakie!");var fn=slideshare_object.deferred.list.shift();if(fn){fn();}
if(slideshare_object.deferred.list[0]){if(slideshare_object.deferred.timeout){clearTimeout(slideshare_object.deferred.timeout);}
slideshare_object.deferred.timeout=setTimeout(slideshare_object.deferred.next_action,100);}}};}
if(slideshare_object.deferred.timeout){clearTimeout(slideshare_object.deferred.timeout);}
slideshare_object.deferred.list.push(fn);slideshare_object.deferred.timeout=setTimeout(slideshare_object.deferred.next_action,200);};if(slideshare_object.lead&&slideshare_object.lead.form_url){$('.noAdForLead').remove();}
$('.footer .action-addfav-new,.footer .action-addfav-edit').appendTo('.h-tools');slideshare_object.slideshowCategories=$('#slideshow-categories');slideshare_object.suonly=$('ul.superuser-only');slideshare_object.svComments=jQuery('.commentsNotes');slideshare_object.svCommentsul=jQuery('.commentsNotes .commentWrapper');slideshare_object.svCommentsForm=$('form.h-comment-post');slideshare_object.svTools=$('ul.h-tools');slideshare_object.svEmbed=$('.details .embed');slideshare_object.loading_html='<span class="h-loading">Loading '+'<img alt="Loading&hellip;" '+'src="http://public.slidesharecdn.com/images/indicator.gif" '+'height="5" width="21" style="margin:0;float:none;vertical-align:middle" /></span>';function wireup_truncation(scope){scope=scope||'.slideshow-tags';if($(scope+'.h-not-truncated')[0]){$(scope+' a.ilink').showhide(scope);}}
wireup_truncation('.slideshow-communities');$('.h-toggle-description').click(function(){($(this).html()=='more')?$(this).html('less'):$(this).html('more');$('.description.h-not-truncated').slideToggle('fast');return false;});$(document).ready(function(){$('a[href="/login"]').filter(':not(.void_redirect_link)').attr('href','/login?from_source='+encodeURIComponent(window.location.pathname));$('.headerSearch input.text').focus(function(){if($(this).val()=='Search'){$(this).val('');}});$('.headerSearch input.text').blur(function(){$(this).val($.trim($(this).val()));if($(this).val()===''){$(this).val('Search');}});$('.headerSearch').submit(function(event){var searchField=$(this).find('input.text');searchField.val($.trim(searchField.val()));if(searchField.val()=='Search'||searchField.val()===''){event.preventDefault();searchField.focus();}});$('.h-player-banner .closeThis').bind('click',function(){$('.h-player-banner').hide();window._gaq.push(['_trackEvent','bigfoot_slideview','xclose']);return false;});$('a.j-view_more').click(function(){$(this).prev().addClass('transcript-content-top-full-height');$(this).next().removeClass('hide');$(this).addClass('hide');$('.viralShare').css('top',($('.slideviewActions').offset().top-16)+'px');});$('a.j-view_less').click(function(){$first_li=$($(this).siblings('ol').children()[0]);$first_li.attr('id','transcripts_ol');$(this).addClass('hide');$(this).prev().removeClass('hide');$(this).prev().prev().removeClass('transcript-content-top-full-height');$('.viralShare').css('top',($('.slideviewActions').offset().top-16)+'px');});});slideshare_object.timer.end=(new Date()).getTime();if(slideshare_object.dev&&window.console){console.log("ready:",slideshare_object.timer.ready-slideshare_object.timer.start,"total:",slideshare_object.timer.end-slideshare_object.timer.start);}});slideshare_object.timer={start:(new Date()).getTime()};slideshare_object.remove_if_blank=function(cssclass){if(window.jQuery&&jQuery(cssclass+' > *:not(script)').length<1){jQuery(cssclass).remove();}};window.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};$.getScript=function(url,callback,cache){$.ajax({type:"GET",url:url,success:callback,dataType:"script",cache:cache});};var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";return this.browser+" "+this.version+" on "+this.OS;},searchString:function(data){for(var i=0,length=data.length;i<length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1){return data[i].identity;}}else if(dataProp){return data[i].identity;}}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1){return;}
return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};;(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings);};$scrollTo.defaults={axis:'y',duration:1};$scrollTo.window=function(scope){return $(window).scrollable();};$.fn.scrollable=function(){return this.map(function(){var win=this.parentWindow||this.defaultView,elem=this.nodeName=='#document'?win.frameElement||win:this,doc=elem.contentDocument||(elem.contentWindow||elem).document,isWin=elem.setInterval;return elem.nodeName=='IFRAME'||isWin&&$.browser.safari?doc.body:isWin?doc.documentElement:this;});};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=='object'){settings=duration;duration=0;}
if(typeof settings=='function')
settings={onAfter:settings};settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.speed||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue)
duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this.scrollable().each(function(){var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(px)?$/.test(targ)){targ=both(targ);break;}
targ=$(targ,this);case'object':if(targ.is||targ.style)
toff=(targ=$(targ)).offset();}
$.each(settings.axis.split(''),function(i,axis){var Pos=axis=='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,old=elem[key],Dim=axis=='x'?'Width':'Height',dim=Dim.toLowerCase();if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos))||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'))||0;}
attr[key]+=settings.offset[pos]||0;if(settings.over[pos])
attr[key]+=targ[dim]()*settings.over[pos];}else
attr[key]=targ[pos];if(/^\d+$/.test(attr[key]))
attr[key]=attr[key]<=0?0:Math.min(attr[key],max(Dim));if(!i&&settings.queue){if(old!=attr[key])
animate(settings.onAfterFirst);delete attr[key];}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings);});};function max(Dim){var attr='scroll'+Dim,doc=elem.ownerDocument;return win?Math.max(doc.documentElement[attr],doc.body[attr]):elem[attr];};}).end();};function both(val){return typeof val=='object'?val:{top:val,left:val};};})(jQuery);jQuery.fn.highlightFade=function(settings){var o=(settings&&settings.constructor==String)?{start:settings}:settings||{};var d=jQuery.highlightFade.defaults;var i=o['interval']||d['interval'];var a=o['attr']||d['attr'];var ts={'linear':function(s,e,t,c){return parseInt(s+(c/t)*(e-s));},'sinusoidal':function(s,e,t,c){return parseInt(s+Math.sin(((c/t)*90)*(Math.PI/180))*(e-s));},'exponential':function(s,e,t,c){return parseInt(s+(Math.pow(c/t,2))*(e-s));}};var t=(o['iterator']&&o['iterator'].constructor==Function)?o['iterator']:ts[o['iterator']]||ts[d['iterator']]||ts['linear'];if(d['iterator']&&d['iterator'].constructor==Function)t=d['iterator'];return this.each(function(){if(!this.highlighting)this.highlighting={};var e=(this.highlighting[a])?this.highlighting[a].end:jQuery.highlightFade.getBaseValue(this,a)||[255,255,255];var c=jQuery.highlightFade.getRGB(o['start']||o['colour']||o['color']||d['start']||[255,255,128]);var s=jQuery.speed(o['speed']||d['speed']);var r=o['final']||(this.highlighting[a]&&this.highlighting[a].orig)?this.highlighting[a].orig:jQuery.curCSS(this,a);if(o['end']||d['end'])r=jQuery.highlightFade.asRGBString(e=jQuery.highlightFade.getRGB(o['end']||d['end']));if(typeof o['final']!='undefined')r=o['final'];if(this.highlighting[a]&&this.highlighting[a].timer)window.clearInterval(this.highlighting[a].timer);this.highlighting[a]={steps:((s.duration)/i),interval:i,currentStep:0,start:c,end:e,orig:r,attr:a};jQuery.highlightFade(this,a,o['complete'],t);});};jQuery.highlightFade=function(e,a,o,t){e.highlighting[a].timer=window.setInterval(function(){var newR=t(e.highlighting[a].start[0],e.highlighting[a].end[0],e.highlighting[a].steps,e.highlighting[a].currentStep);var newG=t(e.highlighting[a].start[1],e.highlighting[a].end[1],e.highlighting[a].steps,e.highlighting[a].currentStep);var newB=t(e.highlighting[a].start[2],e.highlighting[a].end[2],e.highlighting[a].steps,e.highlighting[a].currentStep);jQuery(e).css(a,jQuery.highlightFade.asRGBString([newR,newG,newB]));if(e.highlighting[a].currentStep++>=e.highlighting[a].steps){jQuery(e).css(a,e.highlighting[a].orig||'');window.clearInterval(e.highlighting[a].timer);e.highlighting[a]=null;if(o&&o.constructor==Function)o.call(e);}},e.highlighting[a].interval);};jQuery.highlightFade.defaults={start:[255,255,128],interval:50,speed:400,attr:'backgroundColor'};jQuery.highlightFade.getRGB=function(c,d){var result;if(c&&c.constructor==Array&&c.length==3)return c;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))
return[parseInt(result[1]),parseInt(result[2]),parseInt(result[3])];else if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))
return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];else if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))
return[parseInt("0x"+result[1]),parseInt("0x"+result[2]),parseInt("0x"+result[3])];else if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))
return[parseInt("0x"+result[1]+result[1]),parseInt("0x"+result[2]+result[2]),parseInt("0x"+result[3]+result[3])];else
return jQuery.highlightFade.checkColorName(c)||d||null;};jQuery.highlightFade.asRGBString=function(a){return"rgb("+a.join(",")+")";};jQuery.highlightFade.getBaseValue=function(e,a,b){var s,t;b=b||false;t=a=a||jQuery.highlightFade.defaults['attr'];do{s=jQuery(e).css(t||'backgroundColor');if((s!=''&&s!='transparent')||(e.tagName.toLowerCase()=="body")||(!b&&e.highlighting&&e.highlighting[a]&&e.highlighting[a].end))break;t=false;}while(e=e.parentNode);if(!b&&e.highlighting&&e.highlighting[a]&&e.highlighting[a].end)s=e.highlighting[a].end;if(s==undefined||s==''||s=='transparent')s=[255,255,255];return jQuery.highlightFade.getRGB(s);};jQuery.highlightFade.checkColorName=function(c){if(!c)return null;switch(c.replace(/^\s*|\s*$/g,'').toLowerCase()){case'aqua':return[0,255,255];case'black':return[0,0,0];case'blue':return[0,0,255];case'fuchsia':return[255,0,255];case'gray':return[128,128,128];case'green':return[0,128,0];case'lime':return[0,255,0];case'maroon':return[128,0,0];case'navy':return[0,0,128];case'olive':return[128,128,0];case'purple':return[128,0,128];case'red':return[255,0,0];case'silver':return[192,192,192];case'teal':return[0,128,128];case'white':return[255,255,255];case'yellow':return[255,255,0];}};(function($){var trailing_whitespace=true;$.fn.truncate=function(options){var opts=$.extend({},$.fn.truncate.defaults,options);$(this).each(function(){var content_length=$.trim(squeeze($(this).text())).length;if(content_length<=opts.max_length)
return;var actual_max_length=opts.max_length-opts.more.length-(opts.overhead_length||3);var truncated_node=recursivelyTruncate(this,actual_max_length);var full_node=$(this).hide();truncated_node.insertAfter(full_node);findNodeForMore(truncated_node).append(opts.more_html||' (<a href="#show more content">'+opts.more+'</a>)');findNodeForLess(full_node).append(opts.less_html||' (<a href="#show less content">'+opts.less+'</a>)');truncated_node.find('a:last').click(function(){truncated_node.hide();full_node.show();return false;});full_node.find('a:last').click(function(){truncated_node.show();full_node.hide();return false;});});};$.fn.truncate.defaults={max_length:100,more:'…more',less:'less'};function recursivelyTruncate(node,max_length){return(node.nodeType==3)?truncateText(node,max_length):truncateNode(node,max_length);}
function truncateNode(node,max_length){var node=$(node);var new_node=node.clone().empty();var truncatedChild;node.contents().each(function(){var remaining_length=max_length-new_node.text().length;if(remaining_length==0)return;truncatedChild=recursivelyTruncate(this,remaining_length);if(truncatedChild)new_node.append(truncatedChild);});return new_node;}
function truncateText(node,max_length){var text=squeeze(node.data);if(trailing_whitespace)
text=text.replace(/^ /,'');trailing_whitespace=!!text.match(/ $/);var text=text.slice(0,max_length);text=$('<div/>').text(text).html();return text;}
function squeeze(string){return string.replace(/\s+/g,' ');}
function findNodeForMore(node){var $node=$(node);var last_child=$node.children(":last");if(!last_child)return node;var display=last_child.css('display');if(!display||display=='inline')return $node;return findNodeForMore(last_child);};function findNodeForLess(node){var $node=$(node);var last_child=$node.children(":last");if(last_child&&last_child.is('p'))return last_child;return node;};})(jQuery);(function($,window,undefined){$.fn.jScrollPane=function(settings)
{function JScrollPane(elem,s)
{var settings,jsp=this,pane,paneWidth,paneHeight,container,contentWidth,contentHeight,percentInViewH,percentInViewV,isScrollableV,isScrollableH,verticalDrag,dragMaxY,verticalDragPosition,horizontalDrag,dragMaxX,horizontalDragPosition,verticalBar,verticalTrack,scrollbarWidth,verticalTrackHeight,verticalDragHeight,arrowUp,arrowDown,horizontalBar,horizontalTrack,horizontalTrackWidth,horizontalDragWidth,arrowLeft,arrowRight,reinitialiseInterval,originalPadding,originalPaddingTotalWidth,previousContentWidth,wasAtTop=true,wasAtLeft=true,wasAtBottom=false,wasAtRight=false,originalElement=elem.clone(false,false).empty(),mwEvent=$.fn.mwheelIntent?'mwheelIntent.jsp':'mousewheel.jsp';originalPadding=elem.css('paddingTop')+' '+
elem.css('paddingRight')+' '+
elem.css('paddingBottom')+' '+
elem.css('paddingLeft');originalPaddingTotalWidth=(parseInt(elem.css('paddingLeft'),10)||0)+
(parseInt(elem.css('paddingRight'),10)||0);function initialise(s)
{var isMaintainingPositon,lastContentX,lastContentY,hasContainingSpaceChanged,originalScrollTop,originalScrollLeft,maintainAtBottom=false,maintainAtRight=false;settings=s;if(pane===undefined){originalScrollTop=elem.scrollTop();originalScrollLeft=elem.scrollLeft();elem.css({overflow:'hidden',padding:0});paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();elem.width(paneWidth);pane=$('<div class="jspPane" />').css('padding',originalPadding).append(elem.children());container=$('<div class="jspContainer" />').css({'width':paneWidth+'px','height':paneHeight-6+'px'}).append(pane).appendTo(elem);}else{elem.css('width','');maintainAtBottom=settings.stickToBottom&&isCloseToBottom();maintainAtRight=settings.stickToRight&&isCloseToRight();hasContainingSpaceChanged=elem.innerWidth()+originalPaddingTotalWidth!=paneWidth||elem.outerHeight()!=paneHeight;if(hasContainingSpaceChanged){paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();container.css({width:paneWidth+'px',height:paneHeight+'px'});}
if(!hasContainingSpaceChanged&&previousContentWidth==contentWidth&&pane.outerHeight()==contentHeight){elem.width(paneWidth);return;}
previousContentWidth=contentWidth;pane.css('width','');elem.width(paneWidth);container.find('>.jspVerticalBar,>.jspHorizontalBar').remove().end();}
pane.css('overflow','auto');if(s.contentWidth){contentWidth=s.contentWidth;}else{contentWidth=pane[0].scrollWidth;}
contentHeight=pane[0].scrollHeight;pane.css('overflow','');percentInViewH=contentWidth/paneWidth;percentInViewV=contentHeight/paneHeight;isScrollableV=percentInViewV>1;isScrollableH=percentInViewH>1;if(!(isScrollableH||isScrollableV)){elem.removeClass('jspScrollable');pane.css({top:0,width:container.width()-originalPaddingTotalWidth});removeMousewheel();removeFocusHandler();removeKeyboardNav();removeClickOnTrack();unhijackInternalLinks();}else{elem.addClass('jspScrollable');isMaintainingPositon=settings.maintainPosition&&(verticalDragPosition||horizontalDragPosition);if(isMaintainingPositon){lastContentX=contentPositionX();lastContentY=contentPositionY();}
initialiseVerticalScroll();initialiseHorizontalScroll();resizeScrollbars();if(isMaintainingPositon){scrollToX(maintainAtRight?(contentWidth-paneWidth):lastContentX,false);scrollToY(maintainAtBottom?(contentHeight-paneHeight):lastContentY,false);}
initFocusHandler();initMousewheel();initTouch();if(settings.enableKeyboardNavigation){initKeyboardNav();}
if(settings.clickOnTrack){initClickOnTrack();}
observeHash();if(settings.hijackInternalLinks){hijackInternalLinks();}}
if(settings.autoReinitialise&&!reinitialiseInterval){reinitialiseInterval=setInterval(function()
{initialise(settings);},settings.autoReinitialiseDelay);}else if(!settings.autoReinitialise&&reinitialiseInterval){clearInterval(reinitialiseInterval);}
originalScrollTop&&elem.scrollTop(0)&&scrollToY(originalScrollTop,false);originalScrollLeft&&elem.scrollLeft(0)&&scrollToX(originalScrollLeft,false);elem.trigger('jsp-initialised',[isScrollableH||isScrollableV]);}
function initialiseVerticalScroll()
{if(isScrollableV){container.append($('<div class="jspVerticalBar" />').append($('<div class="jspCap jspCapTop" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragTop" />'),$('<div class="jspDragBottom" />'))),$('<div class="jspCap jspCapBottom" />')));verticalBar=container.find('>.jspVerticalBar');verticalTrack=verticalBar.find('>.jspTrack');verticalDrag=verticalTrack.find('>.jspDrag');if(settings.showArrows){arrowUp=$('<a class="jspArrow jspArrowUp" />').bind('mousedown.jsp',getArrowScroll(0,-1)).bind('click.jsp',nil);arrowDown=$('<a class="jspArrow jspArrowDown" />').bind('mousedown.jsp',getArrowScroll(0,1)).bind('click.jsp',nil);if(settings.arrowScrollOnHover){arrowUp.bind('mouseover.jsp',getArrowScroll(0,-1,arrowUp));arrowDown.bind('mouseover.jsp',getArrowScroll(0,1,arrowDown));}
appendArrows(verticalTrack,settings.verticalArrowPositions,arrowUp,arrowDown);}
verticalTrackHeight=paneHeight;container.find('>.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow').each(function()
{verticalTrackHeight-=$(this).outerHeight();});verticalDrag.hover(function()
{verticalDrag.addClass('jspHover');},function()
{verticalDrag.removeClass('jspHover');}).bind('mousedown.jsp',function(e)
{$('html').bind('dragstart.jsp selectstart.jsp',nil);verticalDrag.addClass('jspActive');var startY=e.pageY-verticalDrag.position().top;$('html').bind('mousemove.jsp',function(e)
{positionDragY(e.pageY-startY,false);}).bind('mouseup.jsp mouseleave.jsp',cancelDrag);return false;});sizeVerticalScrollbar();}}
function sizeVerticalScrollbar()
{verticalTrack.height(verticalTrackHeight+'px');verticalDragPosition=0;scrollbarWidth=settings.verticalGutter+verticalTrack.outerWidth();pane.width(paneWidth-scrollbarWidth-originalPaddingTotalWidth);try{if(verticalBar.position().left===0){pane.css('margin-left',scrollbarWidth+'px');}}catch(err){}}
function initialiseHorizontalScroll()
{if(isScrollableH){container.append($('<div class="jspHorizontalBar" />').append($('<div class="jspCap jspCapLeft" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragLeft" />'),$('<div class="jspDragRight" />'))),$('<div class="jspCap jspCapRight" />')));horizontalBar=container.find('>.jspHorizontalBar');horizontalTrack=horizontalBar.find('>.jspTrack');horizontalDrag=horizontalTrack.find('>.jspDrag');if(settings.showArrows){arrowLeft=$('<a class="jspArrow jspArrowLeft" />').bind('mousedown.jsp',getArrowScroll(-1,0)).bind('click.jsp',nil);arrowRight=$('<a class="jspArrow jspArrowRight" />').bind('mousedown.jsp',getArrowScroll(1,0)).bind('click.jsp',nil);if(settings.arrowScrollOnHover){arrowLeft.bind('mouseover.jsp',getArrowScroll(-1,0,arrowLeft));arrowRight.bind('mouseover.jsp',getArrowScroll(1,0,arrowRight));}
appendArrows(horizontalTrack,settings.horizontalArrowPositions,arrowLeft,arrowRight);}
horizontalDrag.hover(function()
{horizontalDrag.addClass('jspHover');},function()
{horizontalDrag.removeClass('jspHover');}).bind('mousedown.jsp',function(e)
{$('html').bind('dragstart.jsp selectstart.jsp',nil);horizontalDrag.addClass('jspActive');var startX=e.pageX-horizontalDrag.position().left;$('html').bind('mousemove.jsp',function(e)
{positionDragX(e.pageX-startX,false);}).bind('mouseup.jsp mouseleave.jsp',cancelDrag);return false;});horizontalTrackWidth=container.innerWidth();sizeHorizontalScrollbar();}}
function sizeHorizontalScrollbar()
{container.find('>.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow').each(function()
{horizontalTrackWidth-=$(this).outerWidth();});horizontalTrack.width(horizontalTrackWidth+'px');horizontalDragPosition=0;}
function resizeScrollbars()
{if(isScrollableH&&isScrollableV){var horizontalTrackHeight=horizontalTrack.outerHeight(),verticalTrackWidth=verticalTrack.outerWidth();verticalTrackHeight-=horizontalTrackHeight;$(horizontalBar).find('>.jspCap:visible,>.jspArrow').each(function()
{horizontalTrackWidth+=$(this).outerWidth();});horizontalTrackWidth-=verticalTrackWidth;paneHeight-=verticalTrackWidth;paneWidth-=horizontalTrackHeight;horizontalTrack.parent().append($('<div class="jspCorner" />').css('width',horizontalTrackHeight+'px'));sizeVerticalScrollbar();sizeHorizontalScrollbar();}
if(isScrollableH){pane.width((container.outerWidth()-originalPaddingTotalWidth)+'px');}
contentHeight=pane.outerHeight();percentInViewV=contentHeight/paneHeight;if(isScrollableH){horizontalDragWidth=Math.ceil(1/percentInViewH*horizontalTrackWidth);if(horizontalDragWidth>settings.horizontalDragMaxWidth){horizontalDragWidth=settings.horizontalDragMaxWidth;}else if(horizontalDragWidth<settings.horizontalDragMinWidth){horizontalDragWidth=settings.horizontalDragMinWidth;}
horizontalDrag.width(horizontalDragWidth+'px');dragMaxX=horizontalTrackWidth-horizontalDragWidth;_positionDragX(horizontalDragPosition);}
if(isScrollableV){verticalDragHeight=Math.ceil(1/percentInViewV*verticalTrackHeight);if(verticalDragHeight>settings.verticalDragMaxHeight){verticalDragHeight=settings.verticalDragMaxHeight;}else if(verticalDragHeight<settings.verticalDragMinHeight){verticalDragHeight=settings.verticalDragMinHeight;}
verticalDrag.height(verticalDragHeight+'px');dragMaxY=verticalTrackHeight-verticalDragHeight;_positionDragY(verticalDragPosition);}}
function appendArrows(ele,p,a1,a2)
{var p1="before",p2="after",aTemp;if(p=="os"){p=/Mac/.test(navigator.platform)?"after":"split";}
if(p==p1){p2=p;}else if(p==p2){p1=p;aTemp=a1;a1=a2;a2=aTemp;}
ele[p1](a1)[p2](a2);}
function getArrowScroll(dirX,dirY,ele)
{return function()
{arrowScroll(dirX,dirY,this,ele);this.blur();return false;};}
function arrowScroll(dirX,dirY,arrow,ele)
{arrow=$(arrow).addClass('jspActive');var eve,scrollTimeout,isFirst=true,doScroll=function()
{if(dirX!==0){jsp.scrollByX(dirX*settings.arrowButtonSpeed);}
if(dirY!==0){jsp.scrollByY(dirY*settings.arrowButtonSpeed);}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.arrowRepeatFreq);isFirst=false;};doScroll();eve=ele?'mouseout.jsp':'mouseup.jsp';ele=ele||$('html');ele.bind(eve,function()
{arrow.removeClass('jspActive');scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;ele.unbind(eve);});}
function initClickOnTrack()
{removeClickOnTrack();if(isScrollableV){verticalTrack.bind('mousedown.jsp',function(e)
{if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageY-offset.top-verticalDragPosition,scrollTimeout,isFirst=true,doScroll=function()
{var offset=clickedTrack.offset(),pos=e.pageY-offset.top-verticalDragHeight/2,contentDragY=paneHeight*settings.scrollPagePercent,dragY=dragMaxY*contentDragY/(contentHeight-paneHeight);if(direction<0){if(verticalDragPosition-dragY>pos){jsp.scrollByY(-contentDragY);}else{positionDragY(pos);}}else if(direction>0){if(verticalDragPosition+dragY<pos){jsp.scrollByY(contentDragY);}else{positionDragY(pos);}}else{cancelClick();return;}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false;},cancelClick=function()
{scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind('mouseup.jsp',cancelClick);};doScroll();$(document).bind('mouseup.jsp',cancelClick);return false;}});}
if(isScrollableH){horizontalTrack.bind('mousedown.jsp',function(e)
{if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageX-offset.left-horizontalDragPosition,scrollTimeout,isFirst=true,doScroll=function()
{var offset=clickedTrack.offset(),pos=e.pageX-offset.left-horizontalDragWidth/2,contentDragX=paneWidth*settings.scrollPagePercent,dragX=dragMaxX*contentDragX/(contentWidth-paneWidth);if(direction<0){if(horizontalDragPosition-dragX>pos){jsp.scrollByX(-contentDragX);}else{positionDragX(pos);}}else if(direction>0){if(horizontalDragPosition+dragX<pos){jsp.scrollByX(contentDragX);}else{positionDragX(pos);}}else{cancelClick();return;}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false;},cancelClick=function()
{scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind('mouseup.jsp',cancelClick);};doScroll();$(document).bind('mouseup.jsp',cancelClick);return false;}});}}
function removeClickOnTrack()
{if(horizontalTrack){horizontalTrack.unbind('mousedown.jsp');}
if(verticalTrack){verticalTrack.unbind('mousedown.jsp');}}
function cancelDrag()
{$('html').unbind('dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp');if(verticalDrag){verticalDrag.removeClass('jspActive');}
if(horizontalDrag){horizontalDrag.removeClass('jspActive');}}
function positionDragY(destY,animate)
{if(!isScrollableV){return;}
if(destY<0){destY=0;}else if(destY>dragMaxY){destY=dragMaxY;}
if(animate===undefined){animate=settings.animateScroll;}
if(animate){jsp.animate(verticalDrag,'top',destY,_positionDragY);}else{verticalDrag.css('top',destY);_positionDragY(destY);}}
function _positionDragY(destY)
{if(destY===undefined){destY=verticalDrag.position().top;}
container.scrollTop(0);verticalDragPosition=destY;var isAtTop=verticalDragPosition===0,isAtBottom=verticalDragPosition==dragMaxY,percentScrolled=destY/dragMaxY,destTop=-percentScrolled*(contentHeight-paneHeight);if(wasAtTop!=isAtTop||wasAtBottom!=isAtBottom){wasAtTop=isAtTop;wasAtBottom=isAtBottom;elem.trigger('jsp-arrow-change',[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight]);}
updateVerticalArrows(isAtTop,isAtBottom);pane.css('top',destTop);elem.trigger('jsp-scroll-y',[-destTop,isAtTop,isAtBottom]).trigger('scroll');}
function positionDragX(destX,animate)
{if(!isScrollableH){return;}
if(destX<0){destX=0;}else if(destX>dragMaxX){destX=dragMaxX;}
if(animate===undefined){animate=settings.animateScroll;}
if(animate){jsp.animate(horizontalDrag,'left',destX,_positionDragX);}else{horizontalDrag.css('left',destX);_positionDragX(destX);}}
function _positionDragX(destX)
{if(destX===undefined){destX=horizontalDrag.position().left;}
container.scrollTop(0);horizontalDragPosition=destX;var isAtLeft=horizontalDragPosition===0,isAtRight=horizontalDragPosition==dragMaxX,percentScrolled=destX/dragMaxX,destLeft=-percentScrolled*(contentWidth-paneWidth);if(wasAtLeft!=isAtLeft||wasAtRight!=isAtRight){wasAtLeft=isAtLeft;wasAtRight=isAtRight;elem.trigger('jsp-arrow-change',[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight]);}
updateHorizontalArrows(isAtLeft,isAtRight);pane.css('left',destLeft);elem.trigger('jsp-scroll-x',[-destLeft,isAtLeft,isAtRight]).trigger('scroll');}
function updateVerticalArrows(isAtTop,isAtBottom)
{if(settings.showArrows){arrowUp[isAtTop?'addClass':'removeClass']('jspDisabled');arrowDown[isAtBottom?'addClass':'removeClass']('jspDisabled');}}
function updateHorizontalArrows(isAtLeft,isAtRight)
{if(settings.showArrows){arrowLeft[isAtLeft?'addClass':'removeClass']('jspDisabled');arrowRight[isAtRight?'addClass':'removeClass']('jspDisabled');}}
function scrollToY(destY,animate)
{var percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate);}
function scrollToX(destX,animate)
{var percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate);}
function scrollToElement(ele,stickToTop,animate)
{var e,eleHeight,eleWidth,eleTop=0,eleLeft=0,viewportTop,viewportLeft,maxVisibleEleTop,maxVisibleEleLeft,destY,destX;try{e=$(ele);}catch(err){return;}
eleHeight=e.outerHeight();eleWidth=e.outerWidth();container.scrollTop(0);container.scrollLeft(0);while(!e.is('.jspPane')){eleTop+=e.position().top;eleLeft+=e.position().left;e=e.offsetParent();if(/^body|html$/i.test(e[0].nodeName)){return;}}
viewportTop=contentPositionY();maxVisibleEleTop=viewportTop+paneHeight;if(eleTop<viewportTop||stickToTop){destY=eleTop-settings.verticalGutter;}else if(eleTop+eleHeight>maxVisibleEleTop){destY=eleTop-paneHeight+eleHeight+settings.verticalGutter;}
if(destY){scrollToY(destY,animate);}
viewportLeft=contentPositionX();maxVisibleEleLeft=viewportLeft+paneWidth;if(eleLeft<viewportLeft||stickToTop){destX=eleLeft-settings.horizontalGutter;}else if(eleLeft+eleWidth>maxVisibleEleLeft){destX=eleLeft-paneWidth+eleWidth+settings.horizontalGutter;}
if(destX){scrollToX(destX,animate);}}
function contentPositionX()
{return-pane.position().left;}
function contentPositionY()
{return-pane.position().top;}
function isCloseToBottom()
{var scrollableHeight=contentHeight-paneHeight;return(scrollableHeight>20)&&(scrollableHeight-contentPositionY()<10);}
function isCloseToRight()
{var scrollableWidth=contentWidth-paneWidth;return(scrollableWidth>20)&&(scrollableWidth-contentPositionX()<10);}
function initMousewheel()
{container.unbind(mwEvent).bind(mwEvent,function(event,delta,deltaX,deltaY){var dX=horizontalDragPosition,dY=verticalDragPosition;jsp.scrollBy(deltaX*settings.mouseWheelSpeed,-deltaY*settings.mouseWheelSpeed,false);return dX==horizontalDragPosition&&dY==verticalDragPosition;});}
function removeMousewheel()
{container.unbind(mwEvent);}
function nil()
{return false;}
function initFocusHandler()
{pane.find(':input,a').unbind('focus.jsp').bind('focus.jsp',function(e)
{scrollToElement(e.target,false);});}
function removeFocusHandler()
{pane.find(':input,a').unbind('focus.jsp');}
function initKeyboardNav()
{var keyDown,elementHasScrolled,validParents=[];isScrollableH&&validParents.push(horizontalBar[0]);isScrollableV&&validParents.push(verticalBar[0]);pane.focus(function()
{elem.focus();});elem.attr('tabindex',0).unbind('keydown.jsp keypress.jsp').bind('keydown.jsp',function(e)
{if(e.target!==this&&!(validParents.length&&$(e.target).closest(validParents).length)){return;}
var dX=horizontalDragPosition,dY=verticalDragPosition;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:keyDown=e.keyCode;keyDownHandler();break;case 35:scrollToY(contentHeight-paneHeight);keyDown=null;break;case 36:scrollToY(0);keyDown=null;break;}
elementHasScrolled=e.keyCode==keyDown&&dX!=horizontalDragPosition||dY!=verticalDragPosition;return!elementHasScrolled;}).bind('keypress.jsp',function(e)
{if(e.keyCode==keyDown){keyDownHandler();}
return!elementHasScrolled;});if(settings.hideFocus){elem.css('outline','none');if('hideFocus'in container[0]){elem.attr('hideFocus',true);}}else{elem.css('outline','');if('hideFocus'in container[0]){elem.attr('hideFocus',false);}}
function keyDownHandler()
{var dX=horizontalDragPosition,dY=verticalDragPosition;switch(keyDown){case 40:jsp.scrollByY(settings.keyboardSpeed,false);break;case 38:jsp.scrollByY(-settings.keyboardSpeed,false);break;case 34:case 32:jsp.scrollByY(paneHeight*settings.scrollPagePercent,false);break;case 33:jsp.scrollByY(-paneHeight*settings.scrollPagePercent,false);break;case 39:jsp.scrollByX(settings.keyboardSpeed,false);break;case 37:jsp.scrollByX(-settings.keyboardSpeed,false);break;}
elementHasScrolled=dX!=horizontalDragPosition||dY!=verticalDragPosition;return elementHasScrolled;}}
function removeKeyboardNav()
{elem.attr('tabindex','-1').removeAttr('tabindex').unbind('keydown.jsp keypress.jsp');}
function observeHash()
{if(location.hash&&location.hash.length>1){var e,retryInt,hash=escape(location.hash);try{e=$(hash);}catch(err){return;}
if(e.length&&pane.find(hash)){if(container.scrollTop()===0){retryInt=setInterval(function()
{if(container.scrollTop()>0){scrollToElement(hash,true);$(document).scrollTop(container.position().top);clearInterval(retryInt);}},50);}else{scrollToElement(hash,true);$(document).scrollTop(container.position().top);}}}}
function unhijackInternalLinks()
{$('a.jspHijack').unbind('click.jsp-hijack').removeClass('jspHijack');}
function hijackInternalLinks()
{unhijackInternalLinks();$('a[href^=#]').addClass('jspHijack').bind('click.jsp-hijack',function()
{var uriParts=this.href.split('#'),hash;if(uriParts.length>1){hash=uriParts[1];if(hash.length>0&&pane.find('#'+hash).length>0){scrollToElement('#'+hash,true);return false;}}});}
function initTouch()
{var startX,startY,touchStartX,touchStartY,moved,moving=false;container.unbind('touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick').bind('touchstart.jsp',function(e)
{var touch=e.originalEvent.touches[0];startX=contentPositionX();startY=contentPositionY();touchStartX=touch.pageX;touchStartY=touch.pageY;moved=false;moving=true;}).bind('touchmove.jsp',function(ev)
{if(!moving){return;}
var touchPos=ev.originalEvent.touches[0],dX=horizontalDragPosition,dY=verticalDragPosition;jsp.scrollTo(startX+touchStartX-touchPos.pageX,startY+touchStartY-touchPos.pageY);moved=moved||Math.abs(touchStartX-touchPos.pageX)>5||Math.abs(touchStartY-touchPos.pageY)>5;return dX==horizontalDragPosition&&dY==verticalDragPosition;}).bind('touchend.jsp',function(e)
{moving=false;}).bind('click.jsp-touchclick',function(e)
{if(moved){moved=false;return false;}});}
function destroy(){var currentY=contentPositionY(),currentX=contentPositionX();elem.removeClass('jspScrollable').unbind('.jsp');elem.replaceWith(originalElement.append(pane.children()));originalElement.scrollTop(currentY);originalElement.scrollLeft(currentX);}
$.extend(jsp,{reinitialise:function(s)
{s=$.extend({},settings,s);initialise(s);},scrollToElement:function(ele,stickToTop,animate)
{scrollToElement(ele,stickToTop,animate);},scrollTo:function(destX,destY,animate)
{scrollToX(destX,animate);scrollToY(destY,animate);},scrollToX:function(destX,animate)
{scrollToX(destX,animate);},scrollToY:function(destY,animate)
{scrollToY(destY,animate);},scrollToPercentX:function(destPercentX,animate)
{scrollToX(destPercentX*(contentWidth-paneWidth),animate);},scrollToPercentY:function(destPercentY,animate)
{scrollToY(destPercentY*(contentHeight-paneHeight),animate);},scrollBy:function(deltaX,deltaY,animate)
{jsp.scrollByX(deltaX,animate);jsp.scrollByY(deltaY,animate);},scrollByX:function(deltaX,animate)
{var destX=contentPositionX()+Math[deltaX<0?'floor':'ceil'](deltaX),percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate);},scrollByY:function(deltaY,animate)
{var destY=contentPositionY()+Math[deltaY<0?'floor':'ceil'](deltaY),percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate);},positionDragX:function(x,animate)
{positionDragX(x,animate);},positionDragY:function(y,animate)
{positionDragY(y,animate);},animate:function(ele,prop,value,stepCallback)
{var params={};params[prop]=value;ele.animate(params,{'duration':settings.animateDuration,'easing':settings.animateEase,'queue':false,'step':stepCallback});},getContentPositionX:function()
{return contentPositionX();},getContentPositionY:function()
{return contentPositionY();},getContentWidth:function()
{return contentWidth;},getContentHeight:function()
{return contentHeight;},getPercentScrolledX:function()
{return contentPositionX()/(contentWidth-paneWidth);},getPercentScrolledY:function()
{return contentPositionY()/(contentHeight-paneHeight);},getIsScrollableH:function()
{return isScrollableH;},getIsScrollableV:function()
{return isScrollableV;},getContentPane:function()
{return pane;},scrollToBottom:function(animate)
{positionDragY(dragMaxY,animate);},hijackInternalLinks:function()
{hijackInternalLinks();},destroy:function()
{destroy();}});initialise(s);}
settings=$.extend({},$.fn.jScrollPane.defaults,settings);$.each(['mouseWheelSpeed','arrowButtonSpeed','trackClickSpeed','keyboardSpeed'],function(){settings[this]=settings[this]||settings.speed;});return this.each(function()
{var elem=$(this),jspApi=elem.data('jsp');if(jspApi){jspApi.reinitialise(settings);}else{jspApi=new JScrollPane(elem,settings);elem.data('jsp',jspApi);}});};$.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:undefined,animateScroll:false,animateDuration:300,animateEase:'linear',hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:'split',horizontalArrowPositions:'split',enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8};})(jQuery,this);(function($){var types=['DOMMouseScroll','mousewheel'];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(event.wheelDelta){delta=event.wheelDelta/120;}
if(event.detail){delta=-event.detail/3;}
deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}
args.unshift(event,delta,deltaX,deltaY);return $.event.handle.apply(this,args);}})(jQuery);(function($,setTimeout){function noop(){}
function genericCallback(data){lastValue=[data];}
function appendScript(node){head.insertBefore(node,head.firstChild);}
function callIfDefined(method,object,parameters){return method&&method.apply(object.context||object,parameters);}
function qMarkOrAmp(url){return(/\?/).test(url)?"&":"?";}
var
STR_ASYNC="async",STR_CHARSET="charset",STR_EMPTY="",STR_ERROR="error",STR_JQUERY_JSONP="_jqjsp",STR_ON="on",STR_ONCLICK=STR_ON+"click",STR_ONERROR=STR_ON+STR_ERROR,STR_ONLOAD=STR_ON+"load",STR_ONREADYSTATECHANGE=STR_ON+"readystatechange",STR_REMOVE_CHILD="removeChild",STR_SCRIPT_TAG="<script/>",STR_SUCCESS="success",STR_TIMEOUT="timeout",browser=$.browser,head=$("head")[0]||document.documentElement,pageCache={},count=0,lastValue,xOptionsDefaults={callback:STR_JQUERY_JSONP,url:location.href};function jsonp(xOptions){xOptions=$.extend({},xOptionsDefaults,xOptions);var completeCallback=xOptions.complete,dataFilter=xOptions.dataFilter,callbackParameter=xOptions.callbackParameter,successCallbackName=xOptions.callback,cacheFlag=xOptions.cache,pageCacheFlag=xOptions.pageCache,charset=xOptions.charset,url=xOptions.url,data=xOptions.data,timeout=xOptions.timeout,pageCached,done=0,cleanUp=noop;xOptions.abort=function(){!done++&&cleanUp();};if(callIfDefined(xOptions.beforeSend,xOptions,[xOptions])===false||done){return xOptions;}
url=url||STR_EMPTY;data=data?((typeof data)=="string"?data:$.param(data,xOptions.traditional)):STR_EMPTY;url+=data?(qMarkOrAmp(url)+data):STR_EMPTY;callbackParameter&&(url+=qMarkOrAmp(url)+encodeURIComponent(callbackParameter)+"=?");!cacheFlag&&!pageCacheFlag&&(url+=qMarkOrAmp(url)+"_"+(new Date()).getTime()+"=");url=url.replace(/=\?(&|$)/,"="+successCallbackName+"$1");function notifySuccess(json){!done++&&setTimeout(function(){cleanUp();pageCacheFlag&&(pageCache[url]={s:[json]});dataFilter&&(json=dataFilter.apply(xOptions,[json]));callIfDefined(xOptions.success,xOptions,[json,STR_SUCCESS]);callIfDefined(completeCallback,xOptions,[xOptions,STR_SUCCESS]);},0);}
function notifyError(type){!done++&&setTimeout(function(){cleanUp();pageCacheFlag&&type!=STR_TIMEOUT&&(pageCache[url]=type);callIfDefined(xOptions.error,xOptions,[xOptions,type]);callIfDefined(completeCallback,xOptions,[xOptions,type]);},0);}
pageCacheFlag&&(pageCached=pageCache[url])?(pageCached.s?notifySuccess(pageCached.s[0]):notifyError(pageCached)):setTimeout(function(script,scriptAfter,timeoutTimer){if(!done){timeoutTimer=timeout>0&&setTimeout(function(){notifyError(STR_TIMEOUT);},timeout);cleanUp=function(){timeoutTimer&&clearTimeout(timeoutTimer);script[STR_ONREADYSTATECHANGE]=script[STR_ONCLICK]=script[STR_ONLOAD]=script[STR_ONERROR]=null;head[STR_REMOVE_CHILD](script);scriptAfter&&head[STR_REMOVE_CHILD](scriptAfter);};window[successCallbackName]=genericCallback;script=$(STR_SCRIPT_TAG)[0];script.id=STR_JQUERY_JSONP+count++;if(charset){script[STR_CHARSET]=charset;}
function callback(result){(script[STR_ONCLICK]||noop)();result=lastValue;lastValue=undefined;result?notifySuccess(result[0]):notifyError(STR_ERROR);}
if(browser.msie){script.event=STR_ONCLICK;script.htmlFor=script.id;script[STR_ONREADYSTATECHANGE]=function(){/loaded|complete/.test(script.readyState)&&callback();};}else{script[STR_ONERROR]=script[STR_ONLOAD]=callback;browser.opera?((scriptAfter=$(STR_SCRIPT_TAG)[0]).text="jQuery('#"+script.id+"')[0]."+STR_ONERROR+"()"):script[STR_ASYNC]=STR_ASYNC;;}
script.src=url;appendScript(script);scriptAfter&&appendScript(scriptAfter);}},0);return xOptions;}
jsonp.setup=function(xOptions){$.extend(xOptionsDefaults,xOptions);};$.jsonp=jsonp;})(jQuery,setTimeout);(function($){var Autocomplete=function(){this.term='';this.container=null;this.text_field=null;this.active_element=null;};Autocomplete.prototype._setActive=function(element){if(this.active_element){this.active_element.find('a').removeClass("ac-element-hover");}
this.active_element=element;element.find('a').addClass("ac-element-hover");};Autocomplete.prototype._setupListeners=function(element){var that=this;element.hover(function(){that._setActive($(this));},function(){$(element).find('a').removeClass("ac-element-hover");that.active_element=null;});element.click(function(event){that._setActive($(this));that.selectItem();event.stopPropagation();});};Autocomplete.prototype._extractLast=function(term){return this._split(term).pop();};Autocomplete.prototype._split=function(val){return val.split(/,\s*/);};Autocomplete.prototype._createContainer=function(input_element){var that=this;that.container=$("<ul id='options' class='ac-menu-list'></ul>");that.container.css({'top':input_element[0].offsetTop+input_element.outerHeight(),'left':input_element[0].offsetLeft});input_element.after(this.container);var diff=(input_element.outerWidth()-input_element.innerWidth())*2;that.container.width(input_element.outerWidth()-diff);};Autocomplete.prototype._currentTags=function(){var tags=this.text_field.val().split(",");tags=$.map(tags,function(x){return $.trim(x).replace(/['"]/g,'');});tags=$.grep(tags,function(x){if(x=='separate tags by comma'){return false;}
return true;});return $.grep(tags,function(n,i){return n;});};Autocomplete.prototype.highlightPrevious=function(){if(this.active_element===null){return;}
var prev_element=this.active_element.prev();if(prev_element.hasClass('ac-menu-item')){this._setActive(prev_element);}};Autocomplete.prototype.highlightNext=function(){if(this.active_element===null){this._setActive(this.text_field.next().children(':first'));}else{var next_element=this.active_element.next();if(next_element.hasClass('ac-menu-item')){this._setActive(this.active_element.next());}}};Autocomplete.prototype.selectItem=function(){if(this.active_element===null){return;}
var current_tags=this._currentTags();current_tags.push(this.active_element.children(':first').text());current_tags.splice(current_tags.length-2,1);this.text_field.val(current_tags.join(", ")+", ");this.active_element=null;this.container.hide();this.text_field.focus();var text_length=this.text_field.val().length;this.text_field.selectRange(text_length,text_length);this.selectCallback();};Autocomplete.prototype.renderSuggestions=function(value){this.term=value;value=this._extractLast(value);if(!this.container){this._createContainer(this.text_field);}
this.container.empty();this.active_element=null;var data=this.matcher(value);var modify=function(text){return'<span class=\'match\'>'+text+'</span>';};for(var i=0;i<data.length;i++){var element_container=$("<li class='ac-menu-item'></li>");var suggestion=data[i].replace(new RegExp(value,'gi'),modify);var element=$("<a class='ac-element'>"+suggestion+"</a>");this._setupListeners(element_container);this.container.append(element_container.append(element));}
this.active=data.length>0;if(value.length==this.minLength&&this.active){this.listShowingCallback();}
if(this.active){this.highlightNext();}
this.container.css({'display':(this.active?'block':'none')});};Autocomplete.prototype.isActive=function(){return this.active;};Autocomplete.prototype.setConfig=function(settings){this.data=settings.data;this.minLength=settings.minLength;this.matcher=settings.source;this.selectCallback=settings.select_callback;this.listShowingCallback=settings.list_showing_callback;};Autocomplete.prototype.setInputEl=function(element){this.text_field=element;var that=this;element.blur(function(){that.active_element=null;if(that.container){setTimeout(function(){if(that.container){that.container.hide();}},500);}});};$.fn.ss_autocomplete=function(options){var that=this;var settings={data:["Dummy Data","Foobar"],minLength:2,source:function(prefix){if(prefix.length<settings.minLength){return[];}
return $.grep(this.data,function(word){if(prefix===''){return false;}
word=word.toLowerCase();prefix=prefix.toLowerCase();var stopWords=["and","from","for","with","of","if","in","as","a","the"];var wordsArray=word.split(" ");for(var i=0;i<wordsArray.length;i++){if($.inArray(wordsArray[i],stopWords)!=-1){continue;}
if(wordsArray[i].indexOf(prefix)===0){return true;}}
if(word.indexOf(prefix)===0){return true;}
return false;}).splice(0,8);}};if(options){$.extend(settings,options);}
this.ac=new Autocomplete();this.ac.setInputEl($(this));this.ac.setConfig(settings);var keyCodes={UP:38,DOWN:40,ENTER:13,TAB:9,ESCAPE:27};$(this).bind('keyup',function(event){switch(event.keyCode){case keyCodes.UP:that.ac.highlightPrevious();event.preventDefault();break;case keyCodes.DOWN:that.ac.highlightNext();event.preventDefault();break;case keyCodes.ENTER:case keyCodes.TAB:that.ac.selectItem();event.preventDefault();break;default:if(that.ac.term!=$(this).val()){that.ac.renderSuggestions($(this).val());}}});$(this).bind('keydown',function(event){if(event.keyCode==keyCodes.TAB||event.keyCode==keyCodes.ENTER){event.stopPropagation();event.preventDefault();}});return{isShowing:function(){return that.ac&&that.ac.isActive();}};};})(jQuery);(function($){$.fn.selectRange=function(start,end){return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(start,end);}else if(this.createTextRange){var range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',start);range.select();}});};})(jQuery);;(function(g,i,d){var a='placeholder'in i.createElement('input'),e='placeholder'in i.createElement('textarea'),j=d.fn,c=d.valHooks,l,k;if(a&&e){k=j.placeholder=function(){return this};k.input=k.textarea=true}else{k=j.placeholder=function(){var m=this;m.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':f}).data('placeholder-enabled',true).trigger('blur.placeholder');return m};k.input=a;k.textarea=e;l={get:function(n){var m=d(n);return m.data('placeholder-enabled')&&m.hasClass('placeholder')?'':n.value},set:function(n,o){var m=d(n);if(!m.data('placeholder-enabled')){return n.value=o}if(o==''){n.value=o;if(n!=i.activeElement){f.call(n)}}else{if(m.hasClass('placeholder')){b.call(n,true,o)||(n.value=o)}else{n.value=o}}return m}};a||(c.input=l);e||(c.textarea=l);d(function(){d(i).delegate('form','submit.placeholder',function(){var m=d('.placeholder',this).each(b);setTimeout(function(){m.each(f)},10)})});d(g).bind('beforeunload.placeholder',function(){d('.placeholder').each(function(){this.value=''})})}function h(n){var m={},o=/^jQuery\d+$/;d.each(n.attributes,function(q,p){if(p.specified&&!o.test(p.name)){m[p.name]=p.value}});return m}function b(o,p){var n=this,q=d(n),m;if(n.value==q.attr('placeholder')&&q.hasClass('placeholder')){m=n==i.activeElement;if(q.data('placeholder-password')){q=q.hide().next().show().attr('id',q.removeAttr('id').data('placeholder-id'));if(o===true){return q[0].value=p}q.focus()}else{n.value='';q.removeClass('placeholder')}m&&n.select()}}function f(){var r,m=this,q=d(m),n=q,p=this.id;if(m.value==''){if(m.type=='password'){if(!q.data('placeholder-textinput')){try{r=q.clone().attr({type:'text'})}catch(o){r=d('<input>').attr(d.extend(h(this),{type:'text'}))}r.removeAttr('name').data({'placeholder-password':true,'placeholder-id':p}).bind('focus.placeholder',b);q.data({'placeholder-textinput':r,'placeholder-id':p}).before(r)}q=q.removeAttr('id').hide().prev().attr('id',p).show()}q.addClass('placeholder');q[0].value=q.attr('placeholder')}else{q.removeClass('placeholder')}}}(this,document,jQuery));(function($$,$){$.fn.extend({highlightIn:function(color){if(this[0]){var bgelement=this;while(bgelement.css('background-color')=='transparent'){bgelement=bgelement.parent();}
this[0].originalColor=bgelement.css('background-color');}
this.css({'opacity':'0.5','filter':'alpha(opacity = 50)'}).highlightFade({end:(color||[255,255,128])});},highlightOut:function(color){if(!color&&this[0]&&this[0].originalColor){color=this[0].originalColor;}
try{this.highlightFade({end:(color||[255,255,255])}).css({'opacity':'','filter':''});}catch(e){this.css({'background-color':'','opacity':'','filter':''});}}});$$.extend=function(destination,source,callback){for(var property in source){destination[property]=source[property];}
if($$.dev){destination.__noSuchMethod__=function(prop,args){error(prop," : no such method exists",args);};}
if($.isFunction(callback)){callback();}
return destination;};$$.colors=["#000000","#444444","#666666","#999999","#CCCCCC","#EEEEEE","#F3F3F3","#FFFFFF","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#0000FF","#9900FF","#FF00FF","#FFCCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#CFE2F3","#D9D2E9","#EAD1DC","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#9FC5E8","#B4A7D6","#D5A6BD","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6FA8DC","#8E7CC3","#C27BA0","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3D85C6","#674EA7","#A64D79","#990000","#B45F06","#BF9000","#38761D","#134F5C","#0B5394","#351C75","#741B47","#660000","#783F04","#7F6000","#274E13","#0C343D","#073763","#20124D","#4C1130"];$$.cache={};$$.extend(window,{log:($$.dev&&window.console)?function(){try{console.log.apply(console,arguments);}catch(e){}}:function(){},error:($$.dev&&window.console)?function(){try{console.error.apply(console,arguments);}catch(e){}}:function(){},dir:($$.dev&&window.console)?function(a){try{console.dir(a);}catch(e){}}:function(){},info:($$.dev&&window.console)?function(a){try{console.info(a);}catch(e){}}:function(){},toggle_language:function(display_languagebar,select_language){if(display_languagebar===true){$('#general_bar_1,#general_bar_2').toggle();if(select_language!==""){$("#language_selected_map").val(select_language);}}else{$('#general_bar_1,#general_bar_2').toggle();}},cookie:function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}},isInternalRedirect:function(url){url=decodeURIComponent(url);var dummy_anchor=document.createElement('a');dummy_anchor.href=url;var is_valid_protocol=/http(s)?:$/.test(dummy_anchor.protocol);var is_valid_hostname=(new RegExp('^'+location.hostname+'$')).test(dummy_anchor.hostname);return(is_valid_protocol&&is_valid_hostname);},getUrlVars:function(url){url=url?url:window.location.href;var vars=[],hash;var hashes=url.slice(url.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;},getUrlVar:function(name,url){return this.getUrlVars(url)[name];}},function(){log("logging enabled");log("Window object extended");});$$.extend(Math,{uuid:(function(){var CHARS='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');return function(len,radix){var chars=CHARS,uuid=[];var i=0;radix=radix||chars.length;if(len){for(i=0;i<len;i++){uuid[i]=chars[0|Math.random()*radix];}}else{var r;uuid[8]=uuid[13]=uuid[18]=uuid[23]='-';uuid[14]='4';for(i=0;i<36;i++){if(!uuid[i]){r=0|Math.random()*16;uuid[i]=chars[(i==19)?(r&0x3)|0x8:r];}}}
return uuid.join('');};})()});$$.extend(String.prototype,{JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,ScriptFragment:'<script[^>]*>([\\S\\s]*?)<\/script>',specialChar:{'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'},blank:function(s){return(/^\s*$/).test(this.s(s)||' ');},capitalize:function(s){s=this.s(s);s=s.charAt(0).toUpperCase()+s.substring(1).toLowerCase();return this.r(arguments,0,s);},empty:function(s){return this.s(s)==='';},escapeHTML:function(s){s=this.s(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/,'&quot;');return this.r(arguments,0,s);},evalScripts:function(s){var scriptTags=this.extractScripts(this.s(s)),results=[];if(scriptTags.length>0){for(var i=0;i<scriptTags.length;i++){results.push(eval(scriptTags[i]));}}
return results;},extractScripts:function(s){var matchAll=new RegExp(this.ScriptFragment,'img');var matchOne=new RegExp(this.ScriptFragment,'im');var scriptMatches=this.s(s).match(matchAll)||[];var scriptTags=[];if(scriptMatches.length>0){for(var i=0;i<scriptMatches.length;i++){scriptTags.push(scriptMatches[i].match(matchOne)[1]||'');}}
return scriptTags;},gsub:function(pattern,replacement,s){s=this.s(s);if($.isFunction(replacement)){s=this.sub(pattern,replacement,-1,s);}
else{s=s.split(pattern).join(replacement);}
return this.r(arguments,2,s);},include:function(pattern,s){return this.s(s).indexOf(pattern)>-1;},interpolate:function(obj,pattern,s){s=this.s(s);if(!pattern){pattern=/(\#\{\s*(\w+)\s*\})/;}
var gpattern=new RegExp(pattern.source,"g");var matches=s.match(gpattern),i;for(i=0;i<matches.length;i++){s=s.replace(matches[i],obj[matches[i].match(pattern)[2]].toString().escapeHTML());}
return this.r(arguments,2,s);},scan:function(pattern,replacement,s){s=this.s(s);this.sub(pattern,replacement,-1,s);return this.r(arguments,2,s);},startsWith:function(pattern,s){return this.s(s).indexOf(pattern)===0;},strip:function(s){s=$.trim(this.s(s));return this.r(arguments,0,s);},stripScripts:function(s){s=this.s(s).replace(new RegExp(this.ScriptFragment,'img'),'');return this.r(arguments,0,s);},stripTags:function(s){s=this.s(s).replace(/<\/?[^>]+>/gi,'');return this.r(arguments,0,s);},sub:function(pattern,replacement,count,s){s=this.s(s);if(pattern.source&&!pattern.global){var patternMods=(pattern.ignoreCase)?"ig":"g";patternMods+=(pattern.multiline)?"m":"";pattern=new RegExp(pattern.source,patternMods);}
var sarray=s.split(pattern),matches=s.match(pattern);if($.browser.msie){if(s.indexOf(matches[0])===0){sarray.unshift("");}
if(s.lastIndexOf(matches[matches.length-1])==s.length-matches[matches.length-1].length){sarray.push("");}}
count=(count<0)?(sarray.length-1):count||1;s=sarray[0];for(var i=1;i<sarray.length;i++){if(i<=count){if($.isFunction(replacement)){s+=replacement(matches[i-1]||matches)+sarray[i];}else{s+=replacement+sarray[i];}}else{s+=(matches[i-1]||matches)+sarray[i];}}
return this.r(arguments,3,s);},truncate:function(length,truncation,s){s=this.s(s);length=length||30;truncation=(!truncation)?'...':truncation;s=(s.length>length)?s.slice(0,length-truncation.length)+truncation:String(s);return this.r(arguments,2,s);},unescapeHTML:function(s){s=this.stripTags(this.s(s)).replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/,'"');return this.r(arguments,0,s);},r:function(args,size,s){if(args.length>size||this.str===undefined){return s;}else{this.str=''+s;return this;}},s:function(s){if(s===''||s){return s;}
if(this.str===''||this.str){return this.str;}
return this;},chop:function(){return this.slice(0,this.length-1);}},function(){log("String object extended");});$$.extend(Array.prototype,{empty:function(){return(this.length<1);}});$$.extend($$,{createElement:function(type,prop){var element=document.createElement(type);for(var i in prop){element.setAttribute(i,prop[i]);}
return element;},isHomePage:function(){return window.location.pathname=='/';},tooltip:function(message,element_id){$('#'+element_id).hover(function(e){var element=$(e.currentTarget),position=element.position();$$.cache.toolTip=element.append("<div class='tooltip' style='top:"+position.top+"px;left:"+
position.left+"px;z-index:9999999;'>"+message+"</div>").children('.tooltip');},function(){$$.cache.toolTip.remove();delete $$.cache.toolTip;});},addRedirectURLForLogin:function(){$('a[href="/login"]').filter(':not(.void_redirect_link)').attr('href',window.location.pathname.match(/^\/login$|^\/signup$|^\/$/)?'/login':'/login?from_source='+
encodeURIComponent(window.location.pathname));$('a[href="/signup"]').filter(':not(.void_redirect_link)').attr('href',window.location.pathname.match(/^\/login$|^\/signup$|^\/$/)?'/signup':'/signup?from_source='+
encodeURIComponent(window.location.pathname));if(!$$.user.loggedin){jQuery('a[href="/upload"]').attr('href','/login?from=upload&from_source=/upload');}else{jQuery('a[href="/login?from=upload&from_source=/upload"]').attr('href','/upload');}},alert:function(message,customTitle){customTitle=customTitle||"Alert!";$('body').append('<div id="dialog" class="ui-state-error ui-corner-all" title="'+customTitle+'" style="display:none;"><p>'+'<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 50px 0;"></span>'+message+'</p></div>');$("#dialog").dialog({bgiframe:false,modal:false,closeOnEscape:true,close:function(){$('#dialog').remove();},buttons:{Ok:function(){$('#dialog').remove();}}});},confirm:function(title,message,callback,falseCallBack,height,width){if(title===null){title="Confirm";}
if(message===null){message="Are you sure want to proceed ?";}
$('body').append('<div id="dialog" style="display:none;" title="'+title+'">'+'<p><span class="ui-icon ui-icon-info" style="float:left; margin:0 7px 20px 0;"></span>'+message+'</p></div>');$("#dialog").dialog({bgiframe:true,resizable:false,height:height,width:width,modal:false,overlay:{backgroundColor:'#000',opacity:0.5},closeOnEscape:true,dialogClass:'confirm',close:function(){$(this).dialog('destroy');$('#dialog').remove();},buttons:{'Ok':function(){$(this).dialog('destroy');$('#dialog').remove();if($.isFunction(callback)){callback();}
return true;},'Cancel':function(){$(this).dialog('destroy');$('#dialog').remove();if($.isFunction(falseCallBack)){falseCallBack();}
return false;}}});},miniDialog:function(element,yesCallback,noCallback){var yesButton=element.find('#yes');var noButton=element.find('#no');var clearDialog=function(e){element.hide();yesButton.unbind('click');noButton.unbind('click');};yesButton.click(function(e){clearDialog();yesCallback(e);});noButton.click(function(e){clearDialog();noCallback(e);});$('body').click(clearDialog);},prompt:function(title,message,default_value,callback,optional_message){optional_message=optional_message||"";if(title===null||message===null||callback===null){return false;}
default_value=default_value||"";$('body').append('<div id="dialog" style="display:none;" title="'+title+'"><label for="prompt_value">'+
message+'</label>&nbsp;&nbsp;<input type="text" id="prompt_value" value="'+default_value+'"/><br><br><span>'+
optional_message+'</span></div>');if(optional_message.blank()){optional_message=null;}
$("#dialog").dialog({bgiframe:true,resizable:false,height:optional_message===null?300:180,width:optional_message===null?300:500,modal:false,overlay:{backgroundColor:'#000',opacity:0.5},closeOnEscape:true,dialogClass:'confirm',close:function(){$(this).dialog('destroy');$('#dialog').remove();},buttons:{'Ok':function(){var value=$('#prompt_value').val();$(this).dialog('destroy');$('#dialog').remove();if($.isFunction(callback)){callback(value);}
return true;},'Close':function(){$(this).dialog('destroy');$('#dialog').remove();return false;}}});},dropDown:function(hoverTargetId,dropDownId){$(hoverTargetId).hover(function(){$(dropDownId).show();},function(){$(dropDownId).hide();});},loginBoxInteraction:function(){$('#j-joinSlideShare').live('click',function(e){e.preventDefault();if($('#modal_signup').is(":hidden")){$('#modal_signup').slideDown('slow');$('#fancy_outer').animate({height:'+=280'});}
else{$('#modal_signup').slideUp('slow');$('#fancy_outer').animate({height:'-=280'});}});$('#j-signIn').live('click',function(e){e.preventDefault();if($('#modal_login').is(":hidden")){$('#modal_login').slideDown('slow');$('#fancy_outer').animate({height:'+=90'});}
else{$('#modal_login').slideUp('slow');$('#fancy_outer').animate({height:'-=90'});}});},makeExternalLinksOpenInNewTab:function(){$('a[hostname!='+window.location.hostname+']').attr('target','_blank');},ga:function(tag,type,optional_label,optional_value){if(type.match(/pageload/)){$$.cache.pageTag=type;}
$(function(){try{log([new Date(),"Event tracking",tag,type,_gaq.push(["_trackEvent",tag,type,optional_label,optional_value])]);}catch(e){}});},flashNoticeClose:function(){$("#page-error .closeThis, #page-success .closeThis, #page-notice .closeThis, #page-warning .closeThis,"+"#page-message .closeThis, .information .closeThis").live("click",function(e){$(e.target).parent().hide();return false;});},handleSearchFields:function(){$('.headerSearch input.text').focus(function(){if($(this).val()=='Search'){$(this).val('');}});$('.headerSearch input.text').blur(function(){$(this).val($.trim($(this).val()));});$('.headerSearch').submit(function(event){var searchField=$(this).find('input.text');searchField.val($.trim(searchField.val()));if(searchField.val()=='Search'||searchField.val()===''){event.preventDefault();searchField.focus();}});},colorEntered:function(){$('.color_picker').each(function(i,j){var element=$(j);element.children('div').css('background-color',element.siblings('input').val());});},colorPicker:function(){$$.colorString='<div style="top: #{top}px; left: #{left}px;" class="picker">';for(var i in $$.colors){$$.colorString+='<div onclick="slideshare_object.colorPicked(this);"'+' style="margin: 2px; float: left; width: 12px; height: 12px; '+'background-color: '+$$.colors[i]+' ; cursor: pointer;">&nbsp;</div>';}
$$.colorString+='</div>';$$.colorEntered();$('.color_hex').blur(function(e){var element=$(e.target);element.siblings('div.color_picker').children().css('background-color',element.val());});$('.color_picker div').click(function(e){var element=$(e.target),position=element.position(),parent=element.parent().parent();if(parent.children().length==3){$('.picker').remove();parent.append(slideshare_object.colorString.interpolate({top:position.top,left:position.left-146}));}
else{parent.children(':last').remove();}});},colorPicked:function(e){var element=$(e),parent=element.parent(),color=slideshare_object.rgb2hex(element.css('background-color'));parent.siblings('div.color_picker').children().css('background-color',color).end().siblings('input').val(color);parent.remove();},rgb2hex:function(str){if($.browser.msie){return str.toUpperCase();}else{var parts=str.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete(parts[0]);for(var i=1;i<=3;++i){parts[i]=parseInt(parts[i],10).toString(16);if(parts[i].length==1){parts[i]='0'+parts[i];}}
return'#'+parts.join('').toUpperCase();}},tabs:function(id){$(id).find(':first li a').click(function(e){var element=$(e.target);$(id).children(':not(:first)').hide();element.parent().attr('class','ui-tabs-selected').siblings().removeAttr('class');$(e.target.hash).show();$('#redirect').val(e.target.hash);return false;}).end().children(':not(:first)').hide().end().find(':first li a:first').click();},checkGlobals:function(){try{if($$.dontCheckGlobals){return true;}
if(console.groupCollapsed){console.groupCollapsed("ss inits");}
info("Globals objects used");var a={},b=[],d=document;var e='addEventListener,document,location,navigator,window'.split(','),i=e.length;var w=window,g={},f=d.createElement('iframe');for(var v in w){a[v]={'type':typeof w[v],'val':w[v]};}
f.style.display='none';d.body.appendChild(f);f.src='about:blank';f=f.contentWindow||f.contentDocument;for(v in a){if(typeof f[v]!='undefined'){delete a[v];}}
while(--i){delete a[e[i]];}
dir(a);if(console.groupEnd){console.groupEnd("ss inits");}}catch(ex){}},showPopup:function(url){var w=660,h=490,Xpos=((screen.availWidth-w)/2),Ypos=((screen.availHeight-h)/2);window.open(url,'ss_share','width='+w+',height='+h+',toolbar=no,resizable=fixed,'+'status=no,scrollbars=no,menubar=no,screenX='+Xpos+',screenY='+Ypos).focus();},dimLight:{init:function(options){$$.cache.dimLight={};$$.cache.currentDimLight=options.name;$$.cache.dimLight[options.name]={'url':options.url,'type':options.type,'datatype':options.datatype,'data':options.data,'callback':options.callback,'backoff':options.backoff,'defaultBackoff':options.backoff};$$.cache.dimLight[$$.cache.currentDimLight].start=true;$$.dimLight.send();},send:function(){if($$.cache.dimLight[$$.cache.currentDimLight].start){$$.cache.dimLight[$$.cache.currentDimLight].start=false;$.ajax({url:$$.cache.dimLight[$$.cache.currentDimLight].url,type:$$.cache.dimLight[$$.cache.currentDimLight].type,dataType:$$.cache.dimLight[$$.cache.currentDimLight].datatype,data:{'ids':$$.cache.dimLight[$$.cache.currentDimLight].data},beforeSend:function(){info("Dimlight call triggered for "+$$.cache.currentDimLight+" at "+Date());},success:function(data){info("Dimlight success for "+$$.cache.currentDimLight+" at "+Date());$$.cache.dimLight[$$.cache.currentDimLight].start=true;if($.isFunction($$.cache.dimLight[$$.cache.currentDimLight].callback)){$$.cache.dimLight[$$.cache.currentDimLight].callback(data);}
window.setTimeout($$.dimLight.send,$$.cache.dimLight[$$.cache.currentDimLight].defaultBackoff);},error:function(){info("Dimlight error for "+$$.cache.currentDimLight+" at "+Date());error(arguments);window.setTimeout($$.dimLight.send,$$.cache.dimLight[$$.cache.currentDimLight].backoff);$$.cache.dimLight[$$.cache.currentDimLight].start=true;$$.cache.dimLight[$$.cache.currentDimLight].backoff*=1.3;}});}},stop:function(){while($$.cache.dimLight[$$.cache.currentDimLight].start){info("Stopping Dimlight...");$$.cache.dimLight[$$.cache.currentDimLight].start=false;info("Stopped Dimlight...");}
return!$$.cache.dimLight[$$.cache.currentDimLight].start;}},scrollTo:function(id){var $target=$(id);if($target.length){$('html,body').animate({scrollTop:$target.offset().top-100},1000);$target.focus();}},tagTextBoxInteraction:function(elem){$.each(elem,function(i,j){if(j.value.blank()){j.value='separate tags by comma';$(j).attr("style","color:#777");}
$(j).focus(function(){if(this.value=='separate tags by comma'){this.value="";$(j).attr("style","color:#333");}}).blur(function(){if(this.value.blank()){this.value="separate tags by comma";$(j).attr("style","color:#777");}});});},initTagTextBox:function(){var elem=$('.action-tags-text-input');$$.tagTextBoxInteraction(elem);},getStyle:function(url){$.get(url,function(data){$('head').append("<style>"+data+"</style>");});},updateLoginSpecificContent:function(){$$.addRedirectURLForLogin();$('.j-logged-out').hide();if($$.user.is_pro){$('.j-pro-text').show();}else{$('.j-non-pro-text').show();}
$('.j-intro-username').text($$.user.name.split(' ')[0]);$('.j-intro-profileinfo').attr('href','/'+$$.user.login+'/edit_myinformation');$('.j-intro-newsfeed').attr('href','/'+$$.user.login+'/newsfeed');$('#j-helpLink').attr('href','http://help.slideshare.com/login');},setupTopnavMenu:function(){$('.j-userName').bind('mouseenter',function(event){if($('.j-userDropDown').is(':hidden'))
{$('.j-userDropDown').show();$('.j-userName').addClass('userNameSelected');}});$('.j-userDropDown').bind('mouseleave',function(event){$('.j-userDropDown').hide();$('.j-userName').removeClass('userNameSelected');});},topNavUploadTrack:function(){$('.mainNav li a:contains(Upload)').bind('click',function(e){var href=$(e.target).attr('href');window._gaq=_gaq||[];window._gaq.push(['_trackEvent','interactive_upload','top_nav_click',/^\/login/.test(href)?'logged_out':'logged_in']);window._gaq.push(['_trackPageview','/uploadTopNav']);});},fbconnect:{basic_perms:{scope:'email, publish_actions'},download_perms:{scope:'email,publish_actions,user_about_me,user_birthday,'+'user_location,user_website,user_work_history'}}},function(){log("$$ object extended");});$$.extend($.fn,{toggleText:function(){this.each(function(i,j){j=$(j);j.data('text_to_toggle',j.val());tc=j.attr('class').match(/(quietest|quieter|quiet)/);tc=tc?tc.join(' '):'';j.data('quiet_class',tc);j.focus(function(){var e=$(this);if(e.val()==e.data('text_to_toggle')){e.val("").removeClass(j.data('quiet_class'));}}).blur(function(){var e=$(this);if(e.val().length<1){e.val(e.data('text_to_toggle')).addClass(j.data('quiet_class'));}});});},fixPNG:function(){return this.each(function(){var image=$(this).css('backgroundImage');if(image.match(/^url\(["']?(.*\.png)["']?\)$/i)){image=RegExp.$1;$(this).css({'backgroundImage':'none','filter':"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+
($(this).css('backgroundRepeat')=='no-repeat'?'crop':'scale')+", src='"+image+"')"}).each(function(){var position=$(this).css('position');if(position!='absolute'&&position!='relative'){$(this).css('position','relative');}});}});}},function(){log("$.fn object extended");});$$.setupTopnavMenu();formatThousands=function(value,separator){if(separator===undefined){separator=',';}
var buf=[];value=String(value).split('').reverse();for(var i=0;i<value.length;i++){if(i%3===0&&i!==0){buf.push(separator);}
buf.push(value[i]);}
return buf.reverse().join('');};$$.extend($$,{autosuggest_top:function(){$(".searchSuggestionsTop li").live("click",function(){$("#search_query_top").val($(this).text());$(".searchSuggestionsTop").remove();});$(".searchSuggestionsTop li").live("mousemove",function(){$("#search_query_top").val($(this).text());$(this).attr("class","searchHighlight");});$(".searchSuggestionsTop li").live("mouseout",function(){$(this).removeAttr("class");});$(".searchSuggestionsTop").live("mouseover",function(){var temp=$(".searchSuggestionsTop li.searchHighlight");if(temp.length!==0){temp.removeAttr("class");}});$("#search_query_top").blur(function(){if($(".searchSuggestionsTop .searchHighlight").length!==0){$('.headerSearch').submit();}
else{$(".searchSuggestionsTop").hide();}});$("#search_query_top").focus(function(){$(".searchSuggestionsTop").show();});var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();$("#search_query_top").keyup(function(event){delay(function(){var flag=0;var suggestion=null;var current_suggestion=null;var new_suggestion=null;if(parseInt(event.keyCode,10)==40){current_suggestion=$(".searchSuggestionsTop li.searchHighlight");if(current_suggestion[0]==$(".searchSuggestionsTop li:hover")[0]){$(".searchSuggestionsTop li:hover").removeAttr("class");$(".searchSuggestionsTop").mouseout();}
if(current_suggestion.length===0){suggestion=$(".searchSuggestionsTop li:first");suggestion.attr("class","searchHighlight");$("#search_query_top").val(suggestion.text());}
else if(current_suggestion[0]==$(".searchSuggestionsTop li:last")[0]){suggestion=$(".searchSuggestionsTop li:first");suggestion.attr("class","searchHighlight");$(".searchSuggestionsTop li:last").removeAttr("class");$("#search_query_top").val(suggestion.text());}
else{new_suggestion=current_suggestion.next();$("#search_query_top").val(new_suggestion.text());current_suggestion.removeAttr("class");new_suggestion.attr("class","searchHighlight");}
flag=1;}
if(parseInt(event.keyCode,10)==38){current_suggestion=$(".searchSuggestionsTop li.searchHighlight");if(current_suggestion[0]==$(".searchSuggestionsTop li:hover")[0]){$(".searchSuggestionsTop li:hover").removeAttr("class");$(".searchSuggestionsTop").mouseout();}
if(current_suggestion.length===0){suggestion=$(".searchSuggestionsTop li:last");suggestion.attr("class","searchHighlight");$("#search_query_top").val(suggestion.text());}
else if(current_suggestion[0]==$(".searchSuggestionsTop li:first")[0]){suggestion=$(".searchSuggestionsTop li:last");suggestion.attr("class","searchHighlight");$(".searchSuggestionsTop li:first").removeAttr("class");$("#search_query_top").val(suggestion.text());}
else{new_suggestion=current_suggestion.prev();$("#search_query_top").val(new_suggestion.text());current_suggestion.removeAttr("class");new_suggestion.attr("class","searchHighlight");}
flag=1;}
if(parseInt(event.keyCode,10)===37||parseInt(event.keyCode,10)===39){return;}
if(flag===1){return;}
var user_query=$("#search_query_top").val();new_auto_suggest_query=user_query.replace(/[\(\)\[\]\!\#\~'"*&]/gi,'').replace(/\s{2,}/g,' ');new_auto_suggest_query=$.trim(new_auto_suggest_query);new_auto_suggest_query=new_auto_suggest_query.replace(/ /g,'?');if(new_auto_suggest_query.length===0){$(".searchSuggestionsTop").remove();return false;}
new_auto_suggest_query=new_auto_suggest_query+"*";new_auto_suggest_query=new_auto_suggest_query+"&rows=5&wt=json&sort=frequency%20desc";new_auto_suggest_query+="&fq=%2Bresults%3A%5B10%20TO%20*%5D&json.wrf=?";if(new_auto_suggest_query.length>2){$.getJSON("http://autosuggest.slideshare.net/?q="+new_auto_suggest_query,function(data){if(data.response.docs.length>0){$(".searchSuggestionsTop").remove();$("<ul class='searchSuggestionsTop'></ul>").insertAfter("#search_query_top");user_query=$.trim(user_query);user_query=user_query.replace(/[^\w\s]/g,"");user_query=user_query.replace(/\s{2,}/g," ");$.each(data.response.docs,function(i,item){var suggested_part=item.query;suggested_part=suggested_part.replace(user_query,"");if(suggested_part==item.query){$("<li><b>"+suggested_part+"</b></li>").appendTo(".searchSuggestionsTop");}else{$("<li>"+user_query+"<b>"+suggested_part+"</b></li>").appendTo(".searchSuggestionsTop");}});}
else{$(".searchSuggestionsTop").remove();}});}},50);});}},function(){log("$$ extended");});$(document).ready(function(){$("body").bind("ajaxSend",function(elm,xhr,s){if(s.type=="GET"){return;}
if(s.data&&s.data.match(new RegExp("\\b"+window._auth_token_name+"="))){return;}
if(s.data){s.data=s.data+"&";}else{s.data="";xhr.setRequestHeader("Content-Type",s.contentType);}
s.data=s.data+encodeURIComponent(window._auth_token_name)+"="+encodeURIComponent(window._auth_token);});$$.addRedirectURLForLogin();$$.flashNoticeClose();$$.handleSearchFields();$$.initTagTextBox();$('.toggle_text').toggleText();if($$.dev){$$.checkGlobals();}
$$.autosuggest_top();$$.loginBoxInteraction();$$.topNavUploadTrack();try{$('input, textarea').placeholder();}catch(ex){slideshare_object.ga('Browser errors','placeholder error',window.location.href);}});})(slideshare_object,jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:'/plugins/ZeroClipboard.swf',nextId:1,$:function(thingy){if(typeof(thingy)=='string')thingy=document.getElementById(thingy);if(!thingy.addClass){thingy.hide=function(){this.style.display='none';};thingy.show=function(){this.style.display='';};thingy.addClass=function(name){this.removeClass(name);this.className+=' '+name;};thingy.removeClass=function(name){var classes=this.className.split(/\s+/);var idx=-1;for(var k=0;k<classes.length;k++){if(classes[k]==name){idx=k;k=classes.length;}}
if(idx>-1){classes.splice(idx,1);this.className=classes.join(' ');}
return this;};thingy.hasClass=function(name){return!!this.className.match(new RegExp("\\s*"+name+"\\s*"));};}
return thingy;},setMoviePath:function(path){this.moviePath=path;},dispatch:function(id,eventName,args){var client=this.clients[id];if(client){client.receiveEvent(eventName,args);}},register:function(id,client){this.clients[id]=client;},getDOMObjectPosition:function(obj,stopObj){var info={left:0,top:0,width:obj.width?obj.width:obj.offsetWidth,height:obj.height?obj.height:obj.offsetHeight};while(obj&&(obj!=stopObj)){info.left+=obj.offsetLeft;info.top+=obj.offsetTop;obj=obj.offsetParent;}
return info;},Client:function(elem){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId='ZeroClipboardMovie_'+this.id;ZeroClipboard.register(this.id,this);if(elem)this.glue(elem);}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:'',handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(elem,appendElem,stylesToAdd){this.domElement=ZeroClipboard.$(elem);var zIndex=99;if(this.domElement.style.zIndex){zIndex=parseInt(this.domElement.style.zIndex,10)+1;}
if(typeof(appendElem)=='string'){appendElem=ZeroClipboard.$(appendElem);}
else if(typeof(appendElem)=='undefined'){appendElem=document.getElementsByTagName('body')[0];}
var box=ZeroClipboard.getDOMObjectPosition(this.domElement,appendElem);this.div=document.createElement('div');var style=this.div.style;style.position='absolute';style.left=''+box.left+'px';style.top=''+box.top+'px';style.width=''+box.width+'px';style.height=''+box.height+'px';style.zIndex=zIndex;if(typeof(stylesToAdd)=='object'){for(addedStyle in stylesToAdd){style[addedStyle]=stylesToAdd[addedStyle];}}
appendElem.appendChild(this.div);this.div.innerHTML=this.getHTML(box.width,box.height);},getHTML:function(width,height){var html='';var flashvars='id='+this.id+'&width='+width+'&height='+height;if(navigator.userAgent.match(/MSIE/)){var protocol=location.href.match(/^https/i)?'https://':'http://';html+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';}
else{html+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';}
return html;},hide:function(){if(this.div){this.div.style.left='-2000px';}},show:function(){this.reposition();},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML='';var body=document.getElementsByTagName('body')[0];try{body.removeChild(this.div);}catch(e){;}
this.domElement=null;this.div=null;}},reposition:function(elem){if(elem){this.domElement=ZeroClipboard.$(elem);if(!this.domElement)this.hide();}
if(this.domElement&&this.div){var box=ZeroClipboard.getDOMObjectPosition(this.domElement);var style=this.div.style;style.left=''+box.left+'px';style.top=''+box.top+'px';}},setText:function(newText){this.clipText=newText;if(this.ready)this.movie.setText(newText);},addEventListener:function(eventName,func){eventName=eventName.toString().toLowerCase().replace(/^on/,'');if(!this.handlers[eventName])this.handlers[eventName]=[];this.handlers[eventName].push(func);},setHandCursor:function(enabled){this.handCursorEnabled=enabled;if(this.ready)this.movie.setHandCursor(enabled);},setCSSEffects:function(enabled){this.cssEffects=!!enabled;},receiveEvent:function(eventName,args){eventName=eventName.toString().toLowerCase().replace(/^on/,'');switch(eventName){case'load':this.movie=document.getElementById(this.movieId);if(!this.movie){var self=this;setTimeout(function(){self.receiveEvent('load',null);},1);return;}
if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var self=this;setTimeout(function(){self.receiveEvent('load',null);},100);this.ready=true;return;}
this.ready=true;this.movie.setText(this.clipText);this.movie.setHandCursor(this.handCursorEnabled);break;case'mouseover':if(this.domElement&&this.cssEffects){this.domElement.addClass('hover');if(this.recoverActive)this.domElement.addClass('active');}
break;case'mouseout':if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass('active')){this.domElement.removeClass('active');this.recoverActive=true;}
this.domElement.removeClass('hover');}
break;case'mousedown':if(this.domElement&&this.cssEffects){this.domElement.addClass('active');}
break;case'mouseup':if(this.domElement&&this.cssEffects){this.domElement.removeClass('active');this.recoverActive=false;}
break;}
if(this.handlers[eventName]){for(var idx=0,len=this.handlers[eventName].length;idx<len;idx++){var func=this.handlers[eventName][idx];if(typeof(func)=='function'){func(this,args);}
else if((typeof(func)=='object')&&(func.length==2)){func[0][func[1]](this,args);}
else if(typeof(func)=='string'){window[func](this,args);}}}}};(function(a){a.fn.fixPNG=function(){return this.each(function(){var c=a(this).css("backgroundImage");if(c.match(/^url\(["']?(.*\.png)["']?\)$/i)){c=RegExp.$1;a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+(a(this).css("backgroundRepeat")=="no-repeat"?"crop":"scale")+", src='"+c+"')"}).each(function(){var h=a(this).css("position");h!="absolute"&&h!="relative"&&a(this).css("position","relative")})}})};var i,b,n=false,k=new Image,s,t=1,u=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,v=null,l=a.browser.msie&&a.browser.version.substr(0,1)==6&&!window.XMLHttpRequest,x=l||a.browser.msie&&a.browser.version.substr(0,1)==7;a.fn.fancybox=function(c){function h(){i=this;b=a.extend({},w);o();return false}function o(){if(!n){a.isFunction(b.callbackOnStart)&&b.callbackOnStart(i);b.itemArray=[];b.itemCurrent=0;if(w.itemArray.length>0)b.itemArray=w.itemArray;else{var d={};if(!i.rel||i.rel==""){d={href:i.href,title:i.title};d.orig=a(i).children("img:first").length?a(i).children("img:first"):a(i);if(d.title==""||typeof d.title=="undefined")d.title=d.orig.attr("alt");b.itemArray.push(d)}else for(var e=a(z).filter("a[rel="+i.rel+"]"),f=0;f<e.length;f++){d={href:e[f].href,title:e[f].title};d.orig=a(e[f]).children("img:first").length?a(e[f]).children("img:first"):a(e[f]);if(d.title==""||typeof d.title=="undefined")d.title=d.orig.attr("alt");b.itemArray.push(d)}}for(;b.itemArray[b.itemCurrent].href!=i.href;)b.itemCurrent++;if(b.overlayShow){if(l){a("embed, object, select").css("visibility","hidden");a("#fancy_overlay").css("height",a(document).height())}a("#fancy_overlay").css({"background-color":b.overlayColor,opacity:b.overlayOpacity}).show()}a(window).bind("resize.fb scroll.fb",a.fn.fancybox.scrollBox);j()}}function j(){a("#fancy_right, #fancy_left, #fancy_close, #fancy_title").hide();var d=b.itemArray[b.itemCurrent].href;if(d.match("iframe")||i.className.indexOf("iframe")>=0){a.fn.fancybox.showLoading();p('<iframe id="fancy_frame" onload="jQuery.fn.fancybox.showIframe()" name="fancy_iframe'+
Math.round(Math.random()*1E3)+'" frameborder="0" hspace="0" src="'+d+'"></iframe>',b.frameWidth,b.frameHeight)}else if(d.match(/#/)){var e=window.location.href.split("#")[0];e=d.replace(e,"");e=e.substr(e.indexOf("#"));p('<div id="fancy_div">'+a(e).html()+"</div>",b.frameWidth,b.frameHeight)}else if(d.match(u)){k=new Image;k.src=d;if(k.complete)y();else{a.fn.fancybox.showLoading();a(k).unbind().bind("load",function(){a("#fancy_loading").hide();y()})}}else{a.fn.fancybox.showLoading();a.get(d,function(f){a("#fancy_loading").hide();p('<div id="fancy_ajax">'+f+"</div>",b.frameWidth,b.frameHeight)})}}function y(){var d=k.width,e=k.height,f=b.padding*2+40,g=b.padding*2+60,m=a.fn.fancybox.getViewport();if(b.imageScale&&(d>m[0]-f||e>m[1]-g)){f=Math.min(Math.min(m[0]-f,d)/d,Math.min(m[1]-g,e)/e);d=Math.round(f*d);e=Math.round(f*e)}p('<img alt="" id="fancy_img" src="'+k.src+'" />',d,e)}function A(){if(b.itemArray.length-1>b.itemCurrent){var d=b.itemArray[b.itemCurrent+1].href||false;if(d&&d.match(u)){objNext=new Image;objNext.src=d}}if(b.itemCurrent>0)if((d=b.itemArray[b.itemCurrent-1].href||false)&&d.match(u)){objNext=new Image;objNext.src=d}}function p(d,e,f){n=true;var g=b.padding;if(x||v){a("#fancy_content")[0].style.removeExpression("height");a("#fancy_content")[0].style.removeExpression("width")}if(g>0){e+=g*2;f+=g*2;a("#fancy_content").css({top:g+"px",right:g+"px",bottom:g+"px",left:g+"px",width:"auto",height:"auto"});if(x||v){a("#fancy_content")[0].style.setExpression("height","(this.parentNode.clientHeight - "+g*2+")");a("#fancy_content")[0].style.setExpression("width","(this.parentNode.clientWidth - "+g*2+")")}}else a("#fancy_content").css({top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"});if(a("#fancy_outer").is(":visible")&&e==a("#fancy_outer").width()&&f==a("#fancy_outer").height())a("#fancy_content").fadeOut("fast",function(){a("#fancy_content").empty().append(a(d)).fadeIn("normal",function(){q()})});else{g=a.fn.fancybox.getViewport();var m=f+60>g[1]?g[3]:g[3]+Math.round((g[1]-f-60)*0.5),r={left:e+40>g[0]?g[2]:g[2]+Math.round((g[0]-e-40)*0.5),top:m,width:e+"px",height:f+"px"};if(a("#fancy_outer").is(":visible"))a("#fancy_content").fadeOut("normal",function(){a("#fancy_content").empty();a("#fancy_outer").animate(r,b.zoomSpeedChange,b.easingChange,function(){a("#fancy_content").append(a(d)).fadeIn("normal",function(){q()})})});else if(b.zoomSpeedIn>0&&b.itemArray[b.itemCurrent].orig!==undefined){a("#fancy_content").empty().append(a(d));e=b.itemArray[b.itemCurrent].orig;f=a.fn.fancybox.getPosition(e);a("#fancy_outer").css({left:f.left-20-b.padding+"px",top:f.top-20-b.padding+"px",width:a(e).width()+b.padding*2,height:a(e).height()+b.padding*2});if(b.zoomOpacity)r.opacity="show";a("#fancy_outer").animate(r,b.zoomSpeedIn,b.easingIn,function(){q()})}else{a("#fancy_content").hide().empty().append(a(d)).show();a("#fancy_outer").css(r).fadeIn("normal",function(){q()})}}}function B(){if(b.itemCurrent!==0){a("#fancy_left, #fancy_left_ico").unbind().bind("click",function(d){d.stopPropagation();b.itemCurrent--;j();return false});a("#fancy_left").show()}if(b.itemCurrent!=b.itemArray.length-1){a("#fancy_right, #fancy_right_ico").unbind().bind("click",function(d){d.stopPropagation();b.itemCurrent++;j();return false});a("#fancy_right").show()}}function q(){if(a.browser.msie){a("#fancy_content")[0].style.removeAttribute("filter");a("#fancy_outer")[0].style.removeAttribute("filter")}b.dontSetNavigation||B();A();a(document).bind("keydown.fb",function(e){if(e.keyCode==27&&b.enableEscapeButton)a.fn.fancybox.close();});b.hideOnContentClick&&a("#fancy_content").click(a.fn.fancybox.close);b.overlayShow&&b.hideOnOverlayClick&&a("#fancy_overlay").bind("click",a.fn.fancybox.close);b.showCloseButton&&a("#fancy_close").bind("click",a.fn.fancybox.close).show();if(typeof b.itemArray[b.itemCurrent].title!=="undefined"&&b.itemArray[b.itemCurrent].title.length>0&&!b.dontShowFancyTitle){var d=a("#fancy_outer").position();a("#fancy_title div").text(b.itemArray[b.itemCurrent].title).html();a("#fancy_title").css({top:d.top+a("#fancy_outer").outerHeight()-32,left:d.left+(a("#fancy_outer").outerWidth()*0.5-a("#fancy_title").width()*0.5)}).show()}b.overlayShow&&l&&a("embed, object, select",a("#fancy_content")).css("visibility","visible");a.isFunction(b.callbackOnShow)&&b.callbackOnShow(i);if(a.browser.msie){a("#fancy_outer")[0].style.removeAttribute("filter");a("#fancy_content")[0].style.removeAttribute("filter")}n=false}var w=a.extend({},a.fn.fancybox.defaults,c),z=this;return this.unbind("click.fb").bind("click.fb",h)};a.fn.fancybox.scrollBox=function(){var c=a.fn.fancybox.getViewport();if(b.centerOnScroll&&a("#fancy_outer").is(":visible")){var h=a("#fancy_outer").outerWidth(),o=a("#fancy_outer").outerHeight(),j={top:o>c[1]?c[3]:c[3]+Math.round((c[1]-o)*0.5),left:h>c[0]?c[2]:c[2]+Math.round((c[0]-h)*0.5)};a("#fancy_outer").css(j);a("#fancy_title").css({top:j.top+
o-32,left:j.left+(h*0.5-a("#fancy_title").width()*0.5)})}l&&a("#fancy_overlay").is(":visible")&&a("#fancy_overlay").css({height:a(document).height()});a("#fancy_loading").is(":visible")&&a("#fancy_loading").css({left:(c[0]-40)*0.5+c[2],top:(c[1]-40)*0.5+c[3]})};a.fn.fancybox.getNumeric=function(c,h){return parseInt(a.curCSS(c.jquery?c[0]:c,h,true))||0};a.fn.fancybox.getPosition=function(c){var h=c.offset();h.top+=a.fn.fancybox.getNumeric(c,"paddingTop");h.top+=a.fn.fancybox.getNumeric(c,"borderTopWidth");h.left+=a.fn.fancybox.getNumeric(c,"paddingLeft");h.left+=a.fn.fancybox.getNumeric(c,"borderLeftWidth");return h};a.fn.fancybox.showIframe=function(){a("#fancy_loading").hide();a("#fancy_frame").show()};a.fn.fancybox.getViewport=function(){return[a(window).width(),a(window).height(),a(document).scrollLeft(),a(document).scrollTop()]};a.fn.fancybox.animateLoading=function(){if(a("#fancy_loading").is(":visible")){a("#fancy_loading > div").css("top",t*-40+"px");t=(t+1)%12}else clearInterval(s)};a.fn.fancybox.showLoading=function(){clearInterval(s);var c=a.fn.fancybox.getViewport();a("#fancy_loading").css({left:(c[0]-40)*0.5+c[2],top:(c[1]-40)*0.5+c[3]}).show();a("#fancy_loading").bind("click",a.fn.fancybox.close);s=setInterval(a.fn.fancybox.animateLoading,66)};a.fn.fancybox.close=function(){n=true;a(k).unbind();a(document).unbind("keydown.fb");a(window).unbind("resize.fb scroll.fb");a("#fancy_overlay, #fancy_content, #fancy_close").unbind();a("#fancy_close, #fancy_loading, #fancy_left, #fancy_right, #fancy_title").hide();__cleanup=function(){a("#fancy_overlay").is(":visible")&&a("#fancy_overlay").fadeOut("fast");a("#fancy_content").empty();b.centerOnScroll&&a(window).unbind("resize.fb scroll.fb");l&&a("embed, object, select").css("visibility","visible");a.isFunction(b.callbackOnClose)&&b.callbackOnClose(i);n=false};if(a("#fancy_outer").is(":visible")!==false)if(b.zoomSpeedOut>0&&b.itemArray[b.itemCurrent].orig!==undefined){var c=b.itemArray[b.itemCurrent].orig,h=a.fn.fancybox.getPosition(c);c={left:h.left-20-b.padding+"px",top:h.top-20-b.padding+"px",width:a(c).width()+b.padding*2,height:a(c).height()+b.padding*2};if(b.zoomOpacity)c.opacity="hide";a("#fancy_outer").stop(false,true).animate(c,b.zoomSpeedOut,b.easingOut,__cleanup)}else a("#fancy_outer").stop(false,true).fadeOut("fast",__cleanup);else __cleanup();return false};a.fn.fancybox.build=function(){var c="";c+='<div id="fancy_overlay"></div>';c+='<div id="fancy_loading"><div></div></div>';c+='<div id="fancy_outer">';c+='<div id="fancy_inner">';c+='<div id="fancy_close">&times;</div>';c+='<div id="fancy_bg"><div class="fancy_bg" id="fancy_bg_n"></div><div class="fancy_bg" id="fancy_bg_ne"></div><div class="fancy_bg" id="fancy_bg_e"></div><div class="fancy_bg" id="fancy_bg_se"></div><div class="fancy_bg" id="fancy_bg_s"></div><div class="fancy_bg" id="fancy_bg_sw"></div><div class="fancy_bg" id="fancy_bg_w"></div><div class="fancy_bg" id="fancy_bg_nw"></div></div>';c+='<a href="javascript:;" id="fancy_left"><span class="fancy_ico" id="fancy_left_ico"></span></a><a href="javascript:;" id="fancy_right"><span class="fancy_ico" id="fancy_right_ico"></span></a>';c+='<div id="fancy_content"></div>';c+="</div>";c+="</div>";c+='<div id="fancy_title"></div>';a(c).appendTo("body");a('<table cellspacing="0" cellpadding="0" border="0"><tr><td class="fancy_title" id="fancy_title_left"></td><td class="fancy_title" id="fancy_title_main"><div></div></td><td class="fancy_title" id="fancy_title_right"></td></tr></table>').appendTo("#fancy_title");a.browser.msie&&a(".fancy_bg").fixPNG();if(l){a("div#fancy_overlay").css("position","absolute");a("#fancy_loading div, #fancy_close, .fancy_title, .fancy_ico").fixPNG();a("#fancy_inner").prepend('<iframe id="fancy_bigIframe" src="javascript:false;" scrolling="no" frameborder="0"></iframe>');c=a("#fancy_bigIframe")[0].contentWindow.document;c.open();c.close()}};a.fn.fancybox.defaults={padding:10,imageScale:true,zoomOpacity:true,zoomSpeedIn:0,zoomSpeedOut:0,zoomSpeedChange:300,easingIn:"swing",easingOut:"swing",easingChange:"swing",frameWidth:560,frameHeight:340,overlayShow:true,overlayOpacity:0.56,overlayColor:"#333",enableEscapeButton:true,showCloseButton:true,hideOnOverlayClick:true,hideOnContentClick:true,centerOnScroll:true,itemArray:[],callbackOnStart:null,callbackOnShow:null,callbackOnClose:null};a(document).ready(function(){v=a.browser.msie&&!a.boxModel;a("#fancy_outer").length<1&&a.fn.fancybox.build()})})(jQuery);slideshare_object.setup_activitylist_interaction=function(){fav_container=$('#favsList');var fav_template_node=null;$('li:first',fav_container).each(function(index,ele){fav_template_node=ele.cloneNode(true);});if(slideshare_object.activities.favorites&&fav_template_node){if(slideshare_object.activities.favorites.count<slideshare_object.activities.favorites.total){var fav_link=$('.action-morefavs').show();fav_link.jsclick(function(){var fav_link_html=fav_link.html();fav_link.html(slideshare_object.loading_html);var current_length=$('li',fav_container).length;$.getJSON(slideshare_object.activities.favorites.url+'?offset='+current_length,function(json){var temp_container=document.createDocumentFragment();$.each(json,function(index,activity){var item=$(fav_template_node.cloneNode(true));$('.favoriteMeta',item).html(activity.summary);$('.h-tags',item).html(activity.tags);$('.h-favoriter-role',item).text(activity.user_occupation);$('.h-favoriter-org',item).text(activity.user_organization);$('.favoriter',item).each(function(index,link){link.href=(activity.login==slideshare_object.user.login)?'/'+slideshare_object.user.login+'/newsfeed':link.href='/'+activity.login;link.title=activity.user_description;$('img',link).each(function(index,img){img.src=activity.photo;img.alt=activity.login;});$('.h-username',link).text(activity.login);});item[0].className=activity.css_class;temp_container.appendChild(item[0]);});fav_container.append(temp_container);($('li',fav_container).length<slideshare_object.activities.favorites.total)?fav_link.html(fav_link_html):fav_link.remove();set_height();});});}}};slideshare_object.download_interaction=function(){this._init();};slideshare_object.download_interaction.prototype._init=function(){var that=this;if(slideshare_object.downloads&&slideshare_object.downloads.allow){$('.action-no-download',slideshare_object.svTools).hide();}
if(slideshare_object.unverified_user){$('.action-download',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();that.show();if($(this).hasClass('current')){$.get(document.location.pathname+'/download',{from:'slideview.download'},function(data){if(data.success){window._gaq.push(['_trackEvent','bigfoot_slideview','download>unverified']);}},'json');}});}
$('.action-unverified-download .cancel').click(function(e){e.preventDefault();e.stopPropagation();$('.action-unverified-download').hide();$('.action-download',slideshare_object.svTools).toggleClass('current');$('.change-unverified-email-validate, '+'.change-unverified-email-win, '+'.change-unverified-email-fail',slideshare_object.svTools).html('').hide();});$('.change-unverified-email').submit(function(e){e.preventDefault();e.stopPropagation();var container=$(this).parent().parent();new_email=$('.unverified-email',container).val();$('.change-unverified-email-validate, '+'.change-unverified-email-win, '+'.change-unverified-email-fail',container).html('').hide();if(new_email==slideshare_object.user.email){$('.change-unverified-email-fail',container).html('Email address not changed.').show();return false;}
if(new_email.match(/^([^@\s]+)@((?:[\-a-z0-9]+\.)+[a-z]{2,})$/i)===null){$('.change-unverified-email-validate',container).html('Please enter a valid email address.').show();return false;}
$.post('/profile/emailchange',{email:new_email,from:'slideview.download',slideshow_id:slideshare_object.slideshow.id},function(data){if(data.success){slideshare_object.user.email=new_email;$('.unverified-email').val(new_email);$('.change-unverified-email-win',container).html(data.data).show();window._gaq.push(['_trackEvent','bigfoot_slideview',container.attr('class').match(/notice/)?'emailchange>notice':'emailchange>download']);}else{$('.change-unverified-email-fail',container).html(data.data).show();}},'json');});};slideshare_object.download_interaction.prototype.show=function(){this.visible=true;slideviewInteraction.hideAll();$('.action-download').addClass('current');$('.action-unverified-download').toggle();};slideshare_object.download_interaction.prototype.hide=function(options){this.visible=false;$('.action-download').removeClass('current');$('.action-unverified-download').hide();};slideshare_object.setup_contacts_interaction=function(){if(slideshare_object.user.loggedin){$('.author .h-follow').live('click',function(event){event.preventDefault();var anchor=$(event.target);var span=anchor.parent();var match=anchor.parent().attr('class').match(/\b(user-(\d+))\b/);var loading=anchor.parent().siblings('span.j-follow-progress');loading.show();$.post(slideshare_object.contacts.create_url.replace('CONTACTEE',match[2]),{},function(returned_data){if(returned_data.suspended){window.location.replace('/login');return;}else{loading.hide();span.html("Following");span.addClass('quieter');}},"json");if(span.parents('.author')[0]){window._gaq.push(['_trackEvent','bigfoot_slideview','authorthumbnail>follow']);}});}};slideshare_object.setup_flagging_interaction=function(){var form=$('.flag-inappropriate form');slideshare_object.flagging=slideshare_object.flagging||{};slideshare_object.flagging={flagged_value:slideshare_object.flagging.flagged_value,update_url:slideshare_object.flagging.update_url,set_as_flagged:function(value){if(value=='0'){$('.flag-inappropriate .action-flag .flagged').hide();$('.flag-inappropriate .action-flag .flag').show();}else{$('.flag-inappropriate .action-flag .flagged').show();$('.flag-inappropriate .action-flag .flag').hide();}
$('select',form).val(value);},post_update:function(){var value=$('select',form).val();slideshare_object.flagging.set_as_flagged(value);var selected=$('.flag-inappropriate .action-flag,.flag-inappropriate form').toggle();selected.highlightIn();$.post(slideshare_object.flagging.update_url,{ia_value:value,slideshow_id:slideshare_object.presentationId,source:'slideviewer'},function(returned_data){log(returned_data);selected.highlightOut();});}};if(slideshare_object.user.loggedin){$('.flag-inappropriate .action-flag, .flag-inappropriate .action-cancel').click(function(e){e.preventDefault();$('.flag-inappropriate .action-flag, .flag-inappropriate form').toggle('fast');});$('.flag-inappropriate .action-submit').jsclick(slideshare_object.flagging.post_update);}
slideshare_object.flagging.set_as_flagged(slideshare_object.flagging.flagged_value?slideshare_object.flagging.flagged_value:0);};slideshare_object.setup_su_interaction=function(){if(slideshare_object.user.su){$('.action-sendtohome .action-sendtohome-toggle, .action-sendtohome '+'.action-cancel',slideshare_object.suonly).bind('click',function(e){e.preventDefault();$('.j-send-to-homepage-response').hide();$('.action-sendtohome-form').toggle('fast');});$('.action-sendtohome .action-submit',slideshare_object.suonly).bind('click',function(e){e.preventDefault();var value=$('.action-sendtohome-form select',slideshare_object.suonly).val();$('.j-send-to-homepage-response').hide();$('.action-sendtohome-form img.j-progress').show();$.post(slideshare_object.su.post_homepage_url,{featured_value:value},function(returned_data){$('.action-sendtohome-form img.j-progress').hide();$('.j-send-to-homepage-response').text(returned_data.msg).show();$('.action-sendtohome',slideshare_object.suonly).highlightOut('#E1EBE9');},'json');});$('.comment .action-comments',slideshare_object.svComments).show();$('#featured_value',slideshare_object.suonly).val(slideshare_object.category.featured);$('.h-blacklist-slideshow').click(function(e){$(this).hide();$('.j-waiting').show();});$('.h-revert-slideshow').click(function(e){$(this).hide();$('.h-if-blacklisted-slideshow').hide();$('.j-waiting').show();});}};slideshare_object.embed_interaction=function(config){config=config||{};this.embed_sizes=config.embed_sizes;this.embed_code=config.embed_code;this.wp_code=config.wp_code;this.iframe_code=config.iframe_code;this.iframe_url=config.iframe_url;this.allow_embeds=config.allow_embeds;this.slideshow_type=config.slideshow_type;this.embedHeading="Copy and paste this code into your blog or website";this.wpHeading="Embed code for Wordpress.org blogs";this._init(config);};slideshare_object.embed_interaction.prototype._init=function(){$('#h-top-embeds .action-moreembeds, #h-all-embeds .action-lessembeds').showhide('#h-all-embeds,#h-top-embeds');if(slideshare_object.embeds_count>5){$('#h-top-embeds').show();$('#h-all-embeds').hide();$("#h-all-embeds ul").addClass('embedsListExpanded');}else{$('#h-top-embeds, #h-all-embeds .action-lessembeds').remove();$('#h-all-embeds').show();}
if(!this.allow_embeds){return false;}
this.embedIntervalId=null;this.iframeIntervalId=null;this._initCopiers();this._initCustomization();this._bindEvents();$('#embedCodeWP').val(this.wp_code);this.refreshEmbedCode();return true;};slideshare_object.embed_interaction.prototype._initCopiers=function(){ZeroClipboard.setMoviePath('/javascripts/plugins/ZeroClipboard.swf');this.embed_clipboard=new ZeroClipboard.Client();this.wp_clipboard=new ZeroClipboard.Client();this.iframe_clipboard=new ZeroClipboard.Client();this._initCopier(this.embed_clipboard,{msgBlock:$('#embed-code').siblings('span.success'),intervalVar:'embedIntervalId',contentBlock:$('#embed-code'),gaLabel:'oldembed'});this._initCopier(this.wp_clipboard,{msgBlock:$('#j-wp-msg'),contentBlock:$('#embedCodeWP'),gaLabel:'wp'});this._initCopier(this.iframe_clipboard,{msgBlock:$('#embed-iframe').siblings('span.success'),intervalVar:'iframeIntervalId',contentBlock:$('#embed-iframe'),gaLabel:'embed'});};slideshare_object.embed_interaction.prototype._initCopier=function(copier,config){copier.msgBlock=config.msgBlock;copier.intervalVar=config.intervalVar;copier.contentBlock=config.contentBlock;copier.addEventListener('onmouseup',function(event){var timeoutId=null;var msgBlock=copier.msgBlock;msgBlock.text('Copied').fadeIn('slow');timeoutId=setTimeout(function(){msgBlock.fadeOut('slow');},3000);if(copier.intervalVar){clearTimeout(this[copier.intervalVar]);this[copier.intervalVar]=timeoutId;}
copier.contentBlock.select();window._gaq.push(['_trackEvent','bigfoot_slideview','embedclick',config.gaLabel]);});};slideshare_object.embed_interaction.prototype._notifyUpdated=function(copier){copier.contentBlock.highlightFade();copier.msgBlock.text('Updated').fadeIn('slow');clearTimeout(this[copier.intervalVar]);this[copier.intervalVar]=setTimeout(function(){copier.msgBlock.fadeOut('slow');},3000);copier.setText(copier.contentBlock.val());};slideshare_object.embed_interaction.prototype._initCustomization=function(){var embed_sizes=this.embed_sizes;var embedPresetTemplate=$('.j-embed-preset-template:first').removeClass('j-embed-preset-template').remove();var embedSizeContainer=$('.j-embed-size');var sortedKeys=[];$.each(embed_sizes.presets,function(key){sortedKeys.push(key);});sortedKeys=sortedKeys.sort();var that=this;$.each(sortedKeys,function(i,key){var presetEle=embedPresetTemplate.clone();var preset=embed_sizes.presets[key];presetEle.find(".j-embed-desc").text(preset.size.width+2+' × '+(preset.size.height+1));presetEle.find(".j-embed-display").width(preset.displaySize.width).height(preset.displaySize.height);presetEle.attr('id','j_embed_size_'+key);presetEle.bind('click',function(e){e.preventDefault();$(this).parent().find('a span.j-embed-display').removeClass('selected');$(this).find('span.j-embed-display').addClass('selected');that.refreshEmbedCode();return false;});embedSizeContainer.append(presetEle);presetEle.show();});$('#j_embed_size_'+embed_sizes.config.defaultPreset).find('span.j-embed-display').addClass('selected');if(this.slideshow_type=='presentation'){$('#embed-customize-slidenumber').val(1);$('#embed-customize-withrel, #embed-customize-slidenumber').bind('change',function(){that.refreshEmbedCode();});}else{$('#embed-customize-withrel, #embed-customize-slidenumber').hide().closest('label').hide();}};slideshare_object.embed_interaction.prototype._bindEvents=function(){$=jQuery;var that=this;$('.action-embed',slideshare_object.svTools).bind('click',function(){that.modeToggle('embed');return false;});$('.viralShare a.wpShare').bind('click',function(){that.modeToggle('wpembed');return false;});$('.action-embed-code .cancel',slideshare_object.svTools).bind('click',function(){that.hide();return false;});$('.action-embed-code .h-action-customize').bind('click',function(){that.toggleCustomize();return false;});$(".action-embed-code input[type='text']").click(function(){this.select();});};slideshare_object.embed_interaction.prototype._refreshCopier=function(copier,config){if(copier.done){copier.reposition();}else{copier.glue(config.elemId);copier.setText(config.valueElem);copier.done=true;}};slideshare_object.embed_interaction.prototype.show=function(options){slideviewInteraction.hideAll('embed');this.visible=true;$('.action-embed').addClass('current');$('.action-embed-code',slideshare_object.svTools).show();this._refreshCopier(this.iframe_clipboard,{elemId:'j-iframe-copier',valueElem:$('#embed-iframe').val()});window._gaq.push(['_trackEvent','bigfoot_slideview','embedtab>open']);};slideshare_object.embed_interaction.prototype.hide=function(options){this.visible=false;$('.action-embed').removeClass('current');$('.action-embed-code',slideshare_object.svTools).hide();};slideshare_object.embed_interaction.prototype.toggle=function(options){if(this.visible){this.hide();return false;}else{this.show();return false;}};slideshare_object.embed_interaction.prototype.modeToggle=function(mode){if(this.mode!=mode){this.mode=mode;if(mode=='wpembed'){this.mainHeading=this.wpHeading;}else{this.mainHeading=this.embedHeading;}
if(this.customizeShown){this._refreshOldEmbedCode();}
$('.j-embed-main-heading',slideshare_object.svTools).html(this.mainHeading);this.show();}else{this.toggle();}};slideshare_object.embed_interaction.prototype._refreshOldEmbedCode=function(){if(this.mode=='wpembed'){$('span.oldEmbed',slideshare_object.svTools).hide();}else{$('span.oldEmbed').show();}};slideshare_object.embed_interaction.prototype.toggleCustomize=function(){$('#h-customize-embed-section').toggle();if(this.customizeShown){$('.action-embed-code .h-action-customize').html('Customize&hellip;');this.customizeShown=false;window._gaq.push(['_trackEvent','bigfoot_slideview','profile>close']);}else{$('.action-embed-code .h-action-customize').html('&hellip;hide options');this.customizeShown=true;this._refreshOldEmbedCode();this._refreshCopier(this.wp_clipboard,{elemId:'j-wp-copier',valueElem:$('#embedCodeWP').val()});this._refreshCopier(this.embed_clipboard,{elemId:'j-embed-copier',valueElem:$('#embed-code').val()});window._gaq.push(['_trackEvent','bigfoot_slideview','profile>custom']);}};slideshare_object.embed_interaction.prototype.refreshEmbedCode=function(){var embed_sizes=this.embed_sizes;var embedTemplate=this.embed_code;var embedCodeBlock=$('#embed-code');var embedCode=embedTemplate;var defaultPreset=embed_sizes.config.defaultPreset;var iframeTemplate=this.iframe_code;var iframeCodeBlock=$('#embed-iframe');var iframeCode=iframeTemplate;var iframe_url=this.iframe_url;var noRel=($('#embed-customize-withrel').is(':checked')||slideshare_object.slideshow.show_related_content==="0");var slideNumber=parseInt($('#embed-customize-slidenumber').val(),10);var selectedSizeId=$('.j-embed-size>a>span.j-embed-display.selected').parent('a').attr('id');var selectedSizeBlock=selectedSizeId.split('_').pop();var width,height;width=embed_sizes.presets[selectedSizeBlock].size.width;height=embed_sizes.presets[selectedSizeBlock].size.height;var url_params=[];if(noRel){url_params.push('rel=0');embedCode=embedCode.gsub('{rel}','&rel=0');}else{embedCode=embedCode.gsub('{rel}','');}
if(!isNaN(slideNumber)&&slideNumber>1){url_params.push('startSlide='+slideNumber);embedCode=embedCode.gsub('{startSlide}','&startSlide='+slideNumber);}else{embedCode=embedCode.gsub('{startSlide}','');}
embedCode=embedCode.gsub('{width}',width);embedCode=embedCode.gsub('{height}',height);embedCodeBlock.val(embedCode);if(embedCodeBlock.is(':visible')){this._notifyUpdated(this.embed_clipboard);}
if(url_params.length){iframe_url+='?'+url_params.join('&');}
iframeCode=iframeCode.gsub('{iframe_url}',iframe_url);iframeCode=iframeCode.gsub('{width}',width);iframeCode=iframeCode.gsub('{height}',height);iframeCodeBlock.val(iframeCode);if(iframeCodeBlock.is(':visible')){this._notifyUpdated(this.iframe_clipboard);}};slideshare_object.favorites_interaction=function(){this._init();};slideshare_object.favorites_interaction.prototype.show=function(){this.visible=true;slideviewInteraction.hideAll('favorites');};slideshare_object.favorites_interaction.prototype.hide=function(){this.visible=false;$('.action-addfav-new').hide();$('.action-addfav-edit').hide();};slideshare_object.favorites_interaction.prototype._init=function(){var that=this;var create_field=$('.action-addfav-new input:first',slideshare_object.svTools);var edit_field=$('.action-addfav-edit input:first',slideshare_object.svTools);if(slideshare_object.user.loggedin){$('.action-addfav',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();var old_html=$('.action-fav-tags',slideshare_object.svTools).html();slideshare_object.add_undo("adding favorite",function(){$('.action-fav-tags',slideshare_object.svTools).html(old_html);});create_field.val('separate tags by comma').addClass('quiet');slideshare_object.favorites.update_links(edit_field.val(create_field.val()).val());$('.action-addfav,.action-fav-edit-links',slideshare_object.svTools).hide();$('.action-fav,.action-addfav-new',slideshare_object.svTools).show();$('.action-fav-tags',slideshare_object.svTools).highlightIn();$.post(slideshare_object.favorites.create_url,{slideshow_id:slideshare_object.presentationId,user_id:slideshare_object.user.id,"favorite[tag_text]":create_field.val(),source:'slideviewer'},function(returned_data){$('.action-fav-tags:visible',slideshare_object.svTools).highlightOut();});});$('.action-fav .delete',slideshare_object.svTools).click(function(){$('.action-fav,.action-addfav',slideshare_object.svTools).removeClass('current');});$('.action-addfav-new .cancel,.action-addfav-new .save'+',.action-fav,.action-addfav-edit .cancel,.action-addfav-edit .save'+',.action-fav,.action-addfav',slideshare_object.svTools).click(function(){$('.action-fav,.action-addfav',slideshare_object.svTools).toggleClass('current');});$('.action-fav,.action-addfav',slideshare_object.svTools).click(function(){that.show();});}
$('.action-addfav-new .save',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();var old_html=$('.action-fav-tags',slideshare_object.svTools).html();slideshare_object.add_undo("adding favorite",function(){$('.action-fav-tags',slideshare_object.svTools).html(old_html);});slideshare_object.favorites.update_links(edit_field.val(create_field.val()).val());if(create_field.val()==='separate tags by comma'){create_field.val('').removeClass('quiet');}
$('.action-fav-tags',slideshare_object.svTools).highlightIn();$.post(slideshare_object.favorites.update_url,{slideshow_id:slideshare_object.presentationId,user_id:slideshare_object.user.id,"favorite[tag_text]":create_field.val(),source:'slideviewer'},function(returned_data){$('.action-fav-tags:visible',slideshare_object.svTools).highlightOut();});var comment=$('.comments-in-fav-section'),value=comment.val();if(value&&value.length>0){comment.val("");setTimeout(function(){$('#postComment').find('textarea').val(value).end().submit();},1000);window._gaq.push(['_trackEvent','bigfoot_slideview','comment_from_fav']);}});$('.action-addfav-new .cancel,.action-addfav-new .save',slideshare_object.svTools).showhide('.action-addfav-new,.action-fav-edit-links');$('.action-fav,.action-addfav-edit .cancel,.action-addfav-edit .save',slideshare_object.svTools).showhide('.action-addfav-edit,.action-fav-edit-links');$('.action-fav',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();if($('.action-addfav-new:visible',slideshare_object.svTools).length>0){$('.action-addfav-new,.action-addfav-edit',slideshare_object.svTools).hide();}});$('.action-addfav-edit .save',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();var old_html=$('.action-fav-tags',slideshare_object.svTools).html();slideshare_object.add_undo("updating favorite",function(){$('.action-fav-tags',slideshare_object.svTools).html(old_html);});slideshare_object.favorites.update_links(create_field.val(edit_field.val()).val());if(edit_field.val()==='separate tags by comma'){edit_field.val('').removeClass('quiet');}
$('.action-fav-tags',slideshare_object.svTools).highlightIn();$.post(slideshare_object.favorites.update_url.replace("FAVID",slideshare_object.favorites.favorited_id),{slideshow_id:slideshare_object.presentationId,user_id:slideshare_object.user.id,"favorite[tag_text]":edit_field.val(),source:'slideviewer'},function(returned_data){$('.action-fav-tags:visible',slideshare_object.svTools).highlightOut();});});$('.action-fav .delete',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();create_field.val(edit_field.val());$('.action-fav,.action-addfav-edit,.action-addfav-new',slideshare_object.svTools).hide();$('.action-addfav',slideshare_object.svTools).show();slideshare_object.add_undo("deleting favorite",function(){$('.action-fav',slideshare_object.svTools).show();$('.action-addfav',slideshare_object.svTools).hide();});$.post(slideshare_object.favorites.delete_url,{slideshow_id:slideshare_object.presentationId,user_id:slideshare_object.user.id,source:'slideviewer'},function(returned_data){$('.action-addfav:visible',slideshare_object.svTools).show();});});slideshare_object.favorites.update_links=function(text){};$('.favorite-tags').focus(function(e){if(e.target.value==="separate tags by comma"){$(e.target).val('').removeClass('quiet');}});$('.favorite-tags').blur(function(e){if($.trim(e.target.value)===""){$(e.target).val("separate tags by comma").addClass('quiet');}});$('.favorite-tags').each(function(index,element){$(element).ss_autocomplete({data:slideshare_object.favorites.top_tags,list_showing_callback:function(){window._gaq.push(['_trackEvent','bigfoot_slideview','tag_autocomplete_showing']);},select_callback:function(){window._gaq.push(['_trackEvent','bigfoot_slideview','tag_autocomplete_selected']);},minLength:2});});$('.action-addfav,.action-fav',slideshare_object.svTools).each(function(index,ele){ele.style.display='inline';});if(slideshare_object.favorites.favorited_id){$('.action-addfav',slideshare_object.svTools).hide();slideshare_object.favorites.update_links(slideshare_object.favorites.favorited_tags_text);}else{$('.action-fav',slideshare_object.svTools).hide();}
if(!slideshare_object.user.loggedin){$('.action-addfav',slideshare_object.svTools).unbind('click');}};slideshare_object.leads_interaction=function(){this._init();};slideshare_object.leads_interaction.prototype._init=function(){var that=this;var download_option_link='.action-download a';var for_download=true;if(slideshare_object.lead){window._gaq.push(['_trackEvent','bigfoot_leadsform','pageload']);$('#action-open-lead-section').load(slideshare_object.lead.form_url,function(resptext,status_text,http_req_xml){if(http_req_xml.status==200){if($("#for_sidebar").val()!='false'){$(".no-lead").remove();$(".noAdForLead").remove();$("p.embed").addClass("l-embed");$(".embed-code").addClass("l-embed-code");$("div.lead-cta-only").show();}
if($("#for_download").val()=='false'){download_option_link=false;for_download=false;if(slideshare_object.downloads.sp_isdwnl){$(".action-download").show();}else{$(".action-download").remove();}}
var placeholder=$('#leadsform-placeholder',this).hide();placeholder.addClass('expandedOverlay');var progress=$('.progress',placeholder);var progress_done=$('.progress_done',placeholder);placeholder.form=$('form',placeholder);if(!placeholder.form[0]){return;}
var validate=null;placeholder.form.submit(function(evt){evt.preventDefault();evt.stopPropagation();try{if(placeholder.form[0].validate_formfields()){placeholder.css({"height":120});progress.show();placeholder.form.hide();placeholder.highlightIn();var download_mode=placeholder.hasClass('downloadform');var sidebar_mode=placeholder.hasClass('contactform');if(download_mode){placeholder.form.evt_trackAjaxOkay('bigfoot_leadsform','sent-download');}else{placeholder.form.evt_trackAjaxOkay('bigfoot_leadsform','sent');}
var mech="mechanism="+(download_mode?'Download&':(sidebar_mode?'Sidebar&':''));$.post(placeholder.form[0].action,(mech)+placeholder.form.serialize(),function(resp){log(resp);progress_done.show();$('.j-close-lead-form').show();$('#leadLogin').toggle();progress.hide();setTimeout(function(){if(slideshare_object.downloads&&slideshare_object.downloads.allow&&download_option_link){$('form',placeholder).remove();$('.progress_done',placeholder).after(resp.html);if(download_mode&&resp.download_url){window.location=resp.download_url;}}else{placeholder.html('<div class="progress_done">'+progress_done.html()+'</div>');}},3500);placeholder.highlightOut();},'json');}}catch(e){console.info(e);}});$('#leadsform-placeholder '+'.action-learnmore').clone().prependTo('#leadAuthor').addClass('outside').addClass('learnMoreTitle');$('#leadsform-placeholder .offer_text.normal').clone().appendTo('#action-open-lead-section');$('#leadsform-placeholder .offer_text.normal').remove();var login=slideshare_object.slideshow.user_login;var fullname=slideshare_object.slideshow.user_name;$('.j-close-lead-form').click(function(e){e.preventDefault();e.stopPropagation();that.hide();});$('#leadAuthor .action-learnmore').click(function(e){e.preventDefault();e.stopPropagation();jQuery('#leadsform-placeholder',slideshare_object.svTools).removeClass('expanded').hide();$('.action-learnmore, '+download_option_link).parent().removeClass('current');var placeholder=$('#leadsform-placeholder');placeholder.removeClass('expanded').removeClass('downloadform');placeholder.addClass('contactform').insertAfter('#leadAuthor');placeholder.toggle();$('.leadAuthorImg').toggle();$('#leadLogin').toggle();});var setup_hide_show='.action-learnmore';if(for_download){$('.action-learnmore',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();$('#action-open-lead-section #leadsform-placeholder').hide();$('#action-open-lead-section .outside').show();jQuery('#leadsform-placeholder.downloadform').removeClass('expanded').hide();$('#leadsform-placeholder').appendTo('ul.h-tools').toggle();$(this).parent().toggleClass('current');$(download_option_link,slideshare_object.svTools).parent().removeClass('current');placeholder.css('background-color','').toggleClass('expanded').addClass('contactform').removeClass('downloadform');});$(download_option_link).addClass('void_fancybox').click(function(e){e.preventDefault();e.stopPropagation();$('.leadAuthorImg').show();$('#action-open-lead-section #leadsform-placeholder').hide();$('#action-open-lead-section .outside').show();$('#leadsform-placeholder.contactform').removeClass('expanded').hide();$('#leadsform-placeholder').appendTo('ul.h-tools').toggle();$(download_option_link,slideshare_object.svTools).parent().toggleClass('current');$('.action-learnmore',slideshare_object.svTools).parent().removeClass('current');placeholder.css('background-color','').toggleClass('expanded').removeClass('contactform').addClass('downloadform');$('#leadLogin').show();});setup_hide_show=setup_hide_show+', '+download_option_link;}
$(setup_hide_show).click(function(e){e.preventDefault();e.stopPropagation();that.show();});$('#leadsform-placeholder .cancel').click(function(e){e.preventDefault();e.stopPropagation();$(download_option_link,slideshare_object.svTools).parent().removeClass('current');$('.action-learnmore',slideshare_object.svTools).parent().removeClass('current');$('#action-open-lead-section .action-learnmore').show();placeholder.css('background-color','').removeClass('expanded').hide();});$('#leadsform-placeholder .skip').click(function(e){e.preventDefault();e.stopPropagation();$(download_option_link,slideshare_object.svTools).parent().removeClass('current');$('.action-learnmore',slideshare_object.svTools).parent().removeClass('current');$('#action-open-lead-section .action-learnmore').show();placeholder.css('background-color','').removeClass('expanded').hide();window.location=$(download_option_link).attr('href')+'?skip=true';});$('.action-download a',slideshare_object.svTools).evt_track('bigfoot_leadsform','open-download');$('.action-learnmore',slideshare_object.svTools).evt_track('bigfoot_leadsform','open-toolbar',slideshare_object.slideshow&&slideshare_object.slideshow.user_login,slideshare_object.stripped_title);var details=(slideshare_object.slideshow&&slideshare_object.slideshow.user_login);$('#action-open-lead-section .action-learnmore').evt_track('bigfoot_leadsform','open',details);if($('form',placeholder)[0]){var newform=window.newform||window.location.href.match(/\?newform/);if(newform){$('.action-contactform a').html('Ask a question');$('.action-contactform',slideshare_object.svTools).show();}else{$(this).show();}}
$(download_option_link).parent().show();if($("#for_sidebar").val()=='false'){$("#action-open-lead-section").hide();}}else{$(".lead-cta-only").remove();$('#action-open-lead-section').remove();$(download_option_link).parent().show();}});}else{$(".lead-cta-only").remove();$('#action-open-lead-section').remove();$(download_option_link).parent().show();}};slideshare_object.leads_interaction.prototype.hide=function(){$('#leadsform-placeholder').hide();};slideshare_object.leads_interaction.prototype.show=function(){slideviewInteraction.hideAll('leads');};slideshare_object.sharing_interaction=function(){window.share_form_click=function(){$('.action-share',slideshare_object.svTools).click();};this._init();};slideshare_object.sharing_interaction.prototype._init=function(){var that=this;var share_li=null;$('.action-share',slideshare_object.svTools).click(function(e){e.preventDefault();e.stopPropagation();if(window.location.href.match(/popupshare/)){var shareWindow=window.open(''+'/share/'+slideshare_object.presentationId,'ss_share','width=900,height=700,resizable=no,scrollbars=yes,status=0');shareWindow.focus();return;}
that.show();if(!share_li){share_li=$('<li class="expanded action-share-form" style="display:none"><div class="svLightBox">'+
slideshare_object.loading_html+'</div></li>').appendTo(slideshare_object.svTools);$('.svLightBox',share_li).load('/share/contacts/'+slideshare_object.presentationId,function(){try{slideshare_object.track_shareform(share_li);}catch(ex1){}
share_li.toggleClass('expanded');$('style',share_li).appendTo('head');try{setup_shareform(function(){share_li.hide();$('.action-share',slideshare_object.svTools).removeClass('current');});}catch(ex2){}});}
share_li.toggle();$('.action-share',slideshare_object.svTools).toggleClass('current');});};slideshare_object.sharing_interaction.prototype.hide=function(){this.visible=false;$('.action-share-form').hide();$('.action-share').removeClass('current');};slideshare_object.sharing_interaction.prototype.show=function(){slideviewInteraction.hideAll('sharing');this.visible=true;};slideshare_object.setup_viral_sharing=function(){$('.viralShare').css('top',($('.slideviewActions').offset().top-16)+'px');$('.viralShare a.popup').click(function(){var shareWindow=window.open($(this).attr('href'),'ss_share','width=626,height=436,resizable=no,scrollbars=yes,status=0');shareWindow.focus();return false;});$('.viralShare a.moreLink').fancybox({'overlayShow':true,'frameWidth':624,'frameHeight':324,'hideOnContentClick':false,'centerOnScroll':true,'easingIn':'linear','easingOut':'linear','easingChange':'linear','dontSetNavigation':true,'dontShowFancyTitle':true,'callbackOnShow':function(e){var fancydiv=$('#fancy_div').html('');var holder=fancydiv;var pconf=null;if(pconf){holder.toggle();}else{pconf={advancedTracking:'true',defaultContent:'embed-code',UIConfig:'<config><display showEmail="false" useTransitions="true" '+'showBookmark="true" codeBoxHeight="auto" showCodeBox="false" '+'showCloseButton="false" networksWithCodeBox=""></display><body>'+'<background frame-color="#BFBFBF" background-color="#FFFFFF" '+'gradient-color-begin="#ffffff" gradient-color-end="#F4F4F4" '+'corner-roundness="4;4;4;4"></background><controls color="#202020" '+'corner-roundness="4;4;4;4" gradient-color-begin="#EAEAEA" '+'gradient-color-end="#F4F4F4" bold="false"><snbuttons type="textUnder" '+'frame-color="#D5D5D5" over-frame-color="#60BFFF" color="#404040" '+'gradient-color-begin="#FFFFFF" gradient-color-end="d4d6d7" size="11" '+'bold="false" down-frame-color="#60BFFF" '+'down-gradient-color-begin="#6DDADA" over-gradient-color-end="#6DDADA" '+'down-gradient-color-end="#F4F4F4" over-color="#52A4DA" '+'down-color="#52A4DA" over-bold="false"><more frame-color="#A4DBFF" '+'over-frame-color="#A4DBFF" gradient-color-begin="#F4F4F4" '+'gradient-color-end="#BBE4FF" over-gradient-color-begin="#A4DBFF" '+'over-gradient-color-end="#F4F4F4"></more>'+'<previous frame-color="#BBE4FF" over-frame-color="#A4DBFF" '+'gradient-color-begin="#FFFFFF" gradient-color-end="#A4DBFF" '+'over-gradient-color-begin="#A4DBFF" over-gradient-color-end="#F4F4F4">'+'</previous></snbuttons><textboxes frame-color="#CACACA" '+'color="#757575" gradient-color-begin="#ffffff" bold="false">'+'<codeboxes color="#757575" frame-color="#DFDFDF" '+'background-color="#FFFFFF" gradient-color-begin="#ffffff" '+'gradient-color-end="#FFFFFF" size="10"></codeboxes><inputs '+'frame-color="#CACACA" color="#757575" gradient-color-begin="#F4F4F4" '+'gradient-color-end="#ffffff"></inputs><dropdowns '+'list-item-over-color="#52A4DA" frame-color="#CACACA"></dropdowns>'+'</textboxes><buttons frame-color="#8DD1FF" '+'gradient-color-end="#BBE4FF" color="#202020" bold="false" '+'over-gradient-color-begin="#BBE4FF" '+'down-gradient-color-begin="#BBE4FF" over-gradient-color-end="#FFFFFF" '+'down-gradient-color-end="#ffffff"><post-buttons frame-color="#8DD1FF" '+'gradient-color-end="#BBE4FF"></post-buttons></buttons>'+'<listboxes frame-color="#CACACA" corner-roundness="4;4;4;4" '+'gradient-color-begin="#F4F4F4" gradient-color-end="#FFFFFF">'+'</listboxes><checkboxes checkmark-color="#00B600" '+'frame-color="#D5D5D5" corner-roundness="3;3;3;3" '+'gradient-color-begin="#F4F4F4" gradient-color-end="#FFFFFF">'+'</checkboxes><servicemarker gradient-color-begin="#FFDBA4" '+'gradient-color-end="#FF8040"></servicemarker><tooltips color="#6D5128" '+'gradient-color-begin="#FFFFFF" gradient-color-end="#FFE4BB" size="10" '+'frame-color="#FFDBA4"></tooltips></controls><texts color="#202020">'+'<headers color="#202020" size="12"></headers><labels size="12">'+'</labels><messages color="#202020"></messages><links color="#0066CC" '+'underline="false" size="12" bold="true" over-size="12" down-size="12" '+'over-color="#0066cc" down-color="#0066cc" down-bold="true"></links>'+'</texts></body></config>'};$.getScript('http://cdn.gigya.com/wildfire/js/wfapiv2.js',function(){Wildfire.initPost('10191','fancy_div',598,300,pconf);});}
return true;}});};function Tabbox(id,config){this.init(id,config);}
Tabbox.prototype={tabbox:null,tabs:[],selected:null,config:{header:"h3",vertical:false,select:-1,padding:0,autosize:true},init:function(id,config){var obj=this;if(config){var name;for(name in config){this.config[name]=config[name];}}
this.pageLoaded=false;if(window.addEventListener){window.addEventListener("load",function(){obj.pageLoaded=true;},false);}
else if(window.attachEvent){window.attachEvent("onload",function(){obj.pageLoaded=true;});}
function poll(){var tabbox=document.getElementById(id);var node=tabbox;while(node){if(node.nextSibling||obj.pageLoaded){obj.tabbox=tabbox;obj.formatTabbox();return;}
node=tabbox.parentNode;}
setTimeout(poll,25);}
poll();},formatTabbox:function(){var obj=this;this.tabs=[];this.tabbox.className+=" tabbox";if(this.config.vertical){this.tabbox.className+=" verticalTabs";}
else{this.tabbox.className+=" horzTabs";}
var divs;var tabs=this.tabbox.getElementsByTagName(this.config.header);for(var i=0;i<tabs.length;i++){this.tabs[i]={id:tabs[i].id,header:tabs[i],container:tabs[i].parentNode};divs=this.tabs[i].container.getElementsByTagName("div");for(var n=0;n<divs.length;n++){if(divs[n].className.match(/(^|\s)tabContent(\s|$)/)){this.tabs[i].id=divs[n].id;this.tabs[i].content=divs[n];break;}}}
var anchor;var handler=function(tab,obj){return function(evt){evt=window.event||evt;obj.selectTab(tab,evt);};};for(i=0;i<this.tabs.length;i++){anchor=this.tabs[i].container.getElementsByTagName("a");if(anchor.length>0){anchor=anchor[0];anchor.tab=this.tabs[i];anchor.onfocus=handler(anchor.tab,obj);anchor.onclick=handler(anchor.tab,obj);}}
this.getSelected();if(typeof this.config.select!="undefined"){this.selectTab(this.config.select);}
this.adjustFootprint();},selectTab:function(tab,evt){if(evt){if(evt.preventDefault){evt.preventDefault();}
else{evt.returnValue=false;}}
if(!isNaN(tab)){tab=this.tabs[parseInt(tab,10)];}
else if(typeof tab=="string"){tab=this.getTabById(tab);}
if(!tab){return;}
if(this.selected){this.selected.container.className=this.selected.container.className.replace(/selected/g,"");}
tab.container.className+=" selected";this.selected=tab;this.adjustFootprint();},getTabById:function(id){for(var i=0;i<this.tabs.length;i++){if(this.tabs[i].id==id){return this.tabs[i];}}
return null;},getSelected:function(){for(var i=0;i<this.tabs.length;i++){if(this.tabs[i].container.className.match(/(^|\s)selected(\s|$)/)){this.selected=this.tabs[i];return i;}}},adjustFootprint:function(){if(this.config.autosize===false){return;}
if(!this.selected){return;}
var height=this.selected.content.clientHeight+5;if(this.config.vertical===false){height+=this.selected.header.clientHeight;}
this.tabbox.style.height=height+"px";}};(function($){$(document).ready(function(){$(".upgradeNow").click(function(){$(".h-upgradeForm").submit();});});})(jQuery);(function(ss){ss.video_stats_tracker=function(){try{if(ss.pixel_tracker){$('body').append(ss.pixel_tracker);return true;}}catch(e){window._gaq.push(['_trackEvent',"Pixel tracker for videos errors",e.toString(),window.location.href]);}};})(slideshare_object);jQuery.fn.highlight=function(pat){function innerHighlight(node,pat){var skip=0;if(node.nodeType==3){var pos=node.data.toUpperCase().indexOf(pat);if(pos>=0){var spannode=document.createElement('span');spannode.className='highlight';var middlebit=node.splitText(pos);var endbit=middlebit.splitText(pat.length);var middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);skip=1;}}
else if(node.nodeType==1&&node.childNodes&&!/(script|style)/i.test(node.tagName)){for(var i=0;i<node.childNodes.length;++i){i+=innerHighlight(node.childNodes[i],pat);}}
return skip;}
return this.each(function(){innerHighlight(this,pat.toUpperCase());});};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode){replaceChild(this.firstChild,this);normalize();}}).end();};slideshare_object.toggleSiblings=function(tabToShow,tabToHide,contentToShow,contentToHide){$(tabToShow).show();$(tabToHide).hide();$(contentToShow).show();$(contentToHide).hide();};slideshare_object.setupSearchTermPlacement=function(){var urlReferrer=document.referrer;var searchQuery=getUrlVar("q",unescape(urlReferrer));if(searchQuery===undefined){return;}
searchQuery=searchQuery.split(" ").join("+");var searchString=searchQuery.replace(/\+/g," ");$("#search_query_top").val(searchString);$("#search_query_bottom").val(searchString);};slideshare_object.setupDescriptionBoxToggle=function(){$('.j-desc-more').click(function(e){e.preventDefault();slideshare_object.toggleSiblings(".descriptionExpanded",".description",".descToggle",".descToggleMore");$(".detailedStats").show();});$('.j-desc-less').click(function(e){e.preventDefault();slideshare_object.toggleSiblings(".description",".descriptionExpanded",".descToggleMore",".descToggle");$(".detailedStats").hide();});};function SSFixedSkyscraperAd(){this._init();this._bindScroll();}
SSFixedSkyscraperAd.prototype._init=function(){this.skyAd=$('.h-skyscraper-ad');this.skyAdClose=$('.removeAd',this.skyAd);this.original_top=this.skyAd.offset().top;this.original_left=this.skyAd.offset().left;this.close_left=this.skyAdClose.length&&this.skyAdClose.offset().left;this.max_top=$('.footerWrapper').offset().top-this.skyAd.height();this.mode='';};SSFixedSkyscraperAd.prototype._bindScroll=function(){var that=this;var adCssAbsolute={position:'absolute',top:'5px',left:''};var adCloseCssAbsolute={position:'absolute',top:'1px',left:''};var adCssFixed={position:'fixed',top:'10px',left:that.original_left};var adCloseFixed={position:'fixed',top:'11px',left:that.close_left};$(window).scroll(function(e){var scrollTop=$(this).scrollTop();if(scrollTop<that.original_top&&that.mode!=='top'){that.mode='top';that.skyAd.css(adCssAbsolute);that.skyAdClose.css(adCloseCssAbsolute);}else if(scrollTop>that.max_top&&that.mode!=='bottom'){that.mode='bottom';that.skyAd.css(adCssAbsolute);that.skyAdClose.css(adCloseCssAbsolute);}else if(scrollTop>that.original_top&&scrollTop<that.max_top){if(that.mode!=='fixed'){that.mode='fixed';that.skyAd.css(adCssFixed);that.skyAdClose.css(adCloseFixed);}}});};slideshare_object.slideviewInteraction=function(){this.slideviewInteractionObjects={};this.slideviewInteractionObjects.favorites=new slideshare_object.favorites_interaction();this.slideviewInteractionObjects.sharing=new slideshare_object.sharing_interaction();this.slideviewInteractionObjects.download=new slideshare_object.download_interaction();this.slideviewInteractionObjects.leads=new slideshare_object.leads_interaction();this.slideviewInteractionObjects.embed=new slideshare_object.embed_interaction({allow_embeds:slideshare_object.slideshow.allow_embeds,embed_sizes:slideshare_object.slideshow.embed_sizes,embed_code:slideshare_object.slideshow.embed_code,wp_code:slideshare_object.slideshow.wp_code,iframe_code:slideshare_object.slideshow.iframe_code,iframe_url:slideshare_object.slideshow.iframe_url,slideshow_type:slideshare_object.slideshow.type});};slideshare_object.slideviewInteraction.prototype.hideAll=function(tabToSkip){for(var key in this.slideviewInteractionObjects){if(this.slideviewInteractionObjects.hasOwnProperty(key)){if(key!==tabToSkip){this.slideviewInteractionObjects[key].hide();}}}};(function($$,$){$$.setup_fbconnect_interaction=function(){if(!slideshare_object.user.loggedin){$('#fb-login-modalbox').live('click',function(){var itemLocation='fancybox';$('#j-fb-modalbox-indicator').show();var perms=slideshare_object.fbconnect.basic_perms;if(typeof(thisLink)!=="undefined"&&is_abbr(thisLink)){perms=slideshare_object.fbconnect.download_perms;}
FB.login(function(response){if(response){if(response.authResponse){if(typeof(thisLink)!="undefined"&&is_abbr(thisLink)){$.post('/fbconnect/create_account_or_login?from_page=download',{access_token:response.authResponse.accessToken,fb_user_id:response.authResponse.userID},function(data){fbconnect_login_redirect(data,itemLocation);},'json');}else{$.post('/fbconnect/create_account_or_login',{access_token:response.authResponse.accessToken,fb_user_id:response.authResponse.userID},function(data){fbconnect_login_redirect(data,itemLocation);},'json');}}else{$('#j-fb-modalbox-indicator').hide();}}else{$('#j-fb-modalbox-indicator').hide();}},perms);});}
$$.post_slideshow_activity_to_facebook=function(action,path,callback){var og_slideshow_ids=['6403387','2805347','2005829','1233634','392645','7542235'];if(($.inArray($$.slideshow.id,og_slideshow_ids)>-1)&&$$.user.is_opengraph_user&&$$.user.allow_opengraph_sharing&&!$$.pvt){$('.fb-msg').addClass('hide');$('.fb-activity, .fb-activity .progress').removeClass('hide');FB.api('/me/'+slideshare_object.fb_app_name+':'+action,'post',{presentation:path,access_token:slideshare_object.user.fb_access_token},callback);}};$$.remove_activity_from_facebook=function(actionId,callback){$('.fb-msg').addClass('hide');$('.fb-activity .progress').removeClass('hide');FB.api('/'+actionId,'delete',{access_token:slideshare_object.user.fb_access_token},callback);};function fbconnect_login_redirect(data,itemLocation){switch(data.status){case 1:_gaq.push(['_trackEvent','Signup','fb_login','fb_signup_from_'+itemLocation]);if(typeof(fromSource)!="undefined"){window.location.replace("/fbconnect/landingpage?from="+fromSource);}else{window.location.replace("/fbconnect/landingpage?from="+escape(window.location.href));}
break;case 2:case 3:_gaq.push(['_trackEvent','Login','fb_login','fb_login_from_'+itemLocation]);if(getUrlVars().from_logout!==undefined&&typeof(fromType)=="undefined"){window.location.replace('/newsfeed');}
else{if(typeof(fromType)!=="undefined"&&(fromType=='zipcast'||fromType=='business'||fromType=='upload'||fromType=='download')&&fromSource&&fromSource.length>1&&isInternalRedirect(fromSource)){window.location.href=decodeURIComponent(fromSource);}else{window.location.reload();}}
break;case 4:window.location.reload();break;default:window.location.reload();}}
function fbconnect_login_redirect_link(data){$('#j-fb-topnav-indicator').hide();$('#j-fb-login-indicator').hide();switch(data.status){case 1:window.location.reload();break;case 3:$('#page-error').append('We could not connect your SlideShare account '+'to Facebook. This Facebook login is already '+'being used with another SlideShare account.').show();break;default:$('#page-error').append('There was an error.').show();}}
$(document).ready(function(){_gaq.push(['_setAccount','UA-2330466-1']);$('#fb-login').click(function(e){var itemLocation='login';e.preventDefault();if(this.href){fromSource=getUrlVar('from_source',this.href);}
$('#j-fb-login-indicator').show();var perms=slideshare_object.fbconnect.basic_perms;if(slideshare_object.user.loggedin){perms=slideshare_object.fbconnect.download_perms;}
FB.login(function(response){if(response){if(response.authResponse){if(slideshare_object.user.loggedin){if(!slideshare_object.user.is_fbuser){$.post('/fbconnect/link_facebook_profile',{access_token:response.authResponse.accessToken,fb_user_id:response.authResponse.userID},function(data){fbconnect_login_redirect_link(data);},'json');}}else{$.post('/fbconnect/fb_login',{},function(data){$.post('/fbconnect/create_account_or_login',{access_token:response.authResponse.accessToken,fb_user_id:response.authResponse.userID},function(data){fbconnect_login_redirect(data,itemLocation);},'json');},'json');}}else{$('#j-fb-login-indicator').hide();}}else{$('#j-fb-login-indicator').hide();}},perms);});});};$$.setup_opengraph_interaction=function(){$('.player').bind('fb-view-published',function(e,actionId){$('.fb-activity .progress').addClass('hide');$$.slideshow.view_action_state='published';$('.fb-removed').addClass('hide');$('.fb-viewed').removeClass('hide');$$.slideshow.view_action_id=actionId;if(cookie("og_notified")!=="true"){$('.fb-viewed').popover({placement:'top',html:true,trigger:'manual'}).popover('show');}});$('.player').bind('fb-view-failed',function(e,error){slideshare_object.ga('fb_opengraph','view-publish-failed',error.id,error.message);slideshare_object.slideshow.view_action_state='failed';$('.fb-activity .progress').addClass('hide');});$('#j-popover-okay').live('click',function(e){e.preventDefault();cookie("og_notified",true,{path:'/',expires:365});$('.fb-viewed').popover('hide');});$('.fb-viewed').live('click',function(e){e.preventDefault();if($$.slideshow.view_action_state=='published'&&($$.slideshow.view_action_id!==null||$$.slideshow.view_action_id!==undefined)){$$.remove_activity_from_facebook($$.slideshow.view_action_id,function(response){if(response&&!response.error){$('.fb-activity .progress').addClass('hide');$('.player').trigger('fb-view-removed');}});}});$('.player').bind('fb-view-removed',function(){$('.fb-activity .progress').addClass('hide');$$.slideshow.view_action_state='removed';$$.slideshow.view_action_id=null;$('.fb-viewed').addClass('hide');$('.fb-removed').removeClass('hide');});$('.fb-removed').live('click',function(e){e.preventDefault();$$.post_slideshow_activity_to_facebook('view',window.location.href,function(response){if(response.id){$('.player').trigger('fb-view-published',response.id);}});});};})(slideshare_object,jQuery);slideshare_object.setup_tipsy=function(){$.each($('.j-tooltip, .j-tooltip-bottom'),function(i,ele){$(ele).tooltip({placement:'top'});});$.each($('.j-hint-tooltip'),function(i,ele){$(ele).tooltip({trigger:'focus',placement:'left'});});};(function(){var Tinycon={};var currentFavicon=null;var originalFavicon=null;var originalTitle=document.title;var faviconImage=null;var canvas=null;var options={};var defaults={width:7,height:9,font:'10px arial',colour:'#ffffff',background:'#F03D25',fallback:true};var ua=(function(){var agent=navigator.userAgent.toLowerCase();return function(browser){return agent.indexOf(browser)!==-1}}());var browser={chrome:ua('chrome'),webkit:ua('chrome')||ua('safari'),safari:ua('safari')&&!ua('chrome'),mozilla:ua('mozilla')&&!ua('chrome')&&!ua('safari')};var getFaviconTag=function(){var links=document.getElementsByTagName('link');for(var i=0,len=links.length;i<len;i++){if((links[i].getAttribute('rel')||'').match(/\bicon\b/)){return links[i]}}return false};var removeFaviconTag=function(){var links=document.getElementsByTagName('link');var head=document.getElementsByTagName('head')[0];for(var i=0,len=links.length;i<len;i++){if(links[i].getAttribute('rel')==='icon'){head.removeChild(links[i])}}};var getCurrentFavicon=function(){if(!originalFavicon||!currentFavicon){var tag=getFaviconTag();originalFavicon=currentFavicon=tag?tag.getAttribute('href'):'/favicon.ico'}return currentFavicon};var getCanvas=function(){if(!canvas){canvas=document.createElement("canvas");canvas.width=16;canvas.height=16}return canvas};var setFaviconTag=function(url){removeFaviconTag();var link=document.createElement('link');link.type='image/x-icon';link.rel='icon';link.href=url;document.getElementsByTagName('head')[0].appendChild(link)};var log=function(message){if(window.console)window.console.log(message)};var drawFavicon=function(num,colour){if(!getCanvas().getContext||browser.safari||options.fallback==='force'){return updateTitle(num)}var context=getCanvas().getContext("2d");var colour=colour||'#000000';var num=num||0;faviconImage=new Image();faviconImage.crossOrigin='anonymous';faviconImage.onload=function(){context.clearRect(0,0,16,16);context.drawImage(faviconImage,0,0,faviconImage.width,faviconImage.height,0,0,16,16);if(num>0)drawBubble(context,num,colour);refreshFavicon()};faviconImage.src=getCurrentFavicon()};var updateTitle=function(num){if(options.fallback){if(num>0){document.title='('+num+') '+originalTitle}else{document.title=originalTitle}}};var drawBubble=function(context,num,colour){var len=(num+"").length-1;var width=options.width+(6*len);var w=16-width;var h=16-options.height;context.font=(browser.webkit?'bold ':'')+options.font;context.fillStyle=options.background;context.strokeStyle=options.background;context.lineWidth=1;context.fillRect(w,h,width-1,options.height);context.beginPath();context.moveTo(w-0.5,h+1);context.lineTo(w-0.5,15);context.stroke();context.beginPath();context.moveTo(15.5,h+1);context.lineTo(15.5,15);context.stroke();context.beginPath();context.strokeStyle="rgba(0,0,0,0.3)";context.moveTo(w,16);context.lineTo(15,16);context.stroke();context.fillStyle=options.colour;context.textAlign="right";context.textBaseline="top";context.fillText(num,15,browser.mozilla?7:6)};var refreshFavicon=function(){if(!getCanvas().getContext)return;setFaviconTag(getCanvas().toDataURL())};Tinycon.setOptions=function(custom){options={};for(var i in defaults){options[i]=custom[i]?custom[i]:defaults[i]}return this};Tinycon.setImage=function(url){currentFavicon=url;refreshFavicon();return this};Tinycon.setBubble=function(num,colour){if(isNaN(num))return log('Bubble must be a number');drawFavicon(num,colour);return this};Tinycon.reset=function(){Tinycon.setImage(originalFavicon)};Tinycon.setOptions(defaults);window.Tinycon=Tinycon})();function SSCachedTemplate(config){this.RETRY_LIMIT=3;this.RETRY_TIMEOUT=100000;this.callback='slideview_cta_trigger';this.url=config.url+'/'+this.callback+'.js?'+config.cachebuster;this.handler=config.handler||function(){};this.triggers=config.triggers;this.key=config.key;this._init();}
SSCachedTemplate.prototype._init=function(){};SSCachedTemplate.prototype.load=function(){this.startTime=(new Date()).getTime();this.retries=0;this._tryLoad();};SSCachedTemplate.prototype._tryLoad=function(){var that=this;$.jsonp({url:this.url,callback:this.callback,success:this._templateLoadedHandler(),error:this._templateLoadFailedHandler(),cache:true,timeout:10000});};SSCachedTemplate.prototype._templateLoadedHandler=function(){var that=this;return function(response){that.template=response.template;that.handler.call(that);};};SSCachedTemplate.prototype._templateLoadFailedHandler=function(){var that=this;return function(){var endTime=(new Date()).getTime();var timeDiff=endTime-that.startTime;if(that.retries<that.RETRY_LIMIT&&timeDiff<that.RETRY_TIMEOUT){that.retries+=1;setTimeout(function(){that._tryLoad();},3000);}else{if(typeof that.errorHandler==='function'){that.errorHandler.call();}}};};function SSTemplateLazyLoader(config){this.templateUrl=config.templateUrl;this.templates=config.templates||{};this.DELAY=config.delay||5000;this.VERSION=config.version||'';this._init();}
SSTemplateLazyLoader.prototype._init=function(){var templates=this.templates;this.cachedTemplates=[];var key,templateObject,url,handler,triggers;for(key in templates){templateObject=templates[key];if(typeof templateObject!=='object'){continue;}
url=this.templateUrl+'/'+key;handler=templateObject.handler;triggers=templateObject.triggers;this.cachedTemplates.push(new SSCachedTemplate({url:url,key:key,handler:handler,triggers:triggers,cachebuster:this.VERSION}));}
var that=this;setTimeout(function(){that.load();},this.DELAY);};SSTemplateLazyLoader.prototype.load=function(){var cachedTemplates=this.cachedTemplates;var templateCount=cachedTemplates.length;var i;for(i=0;i<templateCount;i++){cachedTemplates[i].load();}};slideshare_object.initCtaLazyLoader=function(){var templates={};if(slideshare_object.user.loggedin&&!(slideshare_object.slideshow.is_author_premium||slideshare_object.user.pro)){templates.slideview_ad_cta={triggers:$('.j-cta_remove_ad_fancy'),handler:function(){var triggers=this.triggers;var cta_div=$('<div/>').css({display:'none'}).html(this.template).attr('id','cta_remove_ad_fancy');cta_div.find('input[name=authenticity_token]').attr('value',slideshare_object._auth_token);cta_div.appendTo('body');triggers.attr('href','#'+'cta_remove_ad_fancy');triggers.fancybox({'frameWidth':575,'frameHeight':215,'hideOnContentClick':false,'enableEscapeButton':true,'centerOnScroll':true,'overlayOpacity':0.85,'overlayColor':"#000"}).click(function(e){e.preventDefault();$('.j-userDropDown').hide();$('.j-userName').removeClass('userNameSelected');$('.j-know-more').attr('href','/business/premium/plans?cmp_src='+this.id);return false;});}};}
if($('#j-removeRelatedCTA-right').is(':visible')){templates.slideview_removerelated_cta={triggers:$('.j-removeRelatedCTA'),handler:function(){var triggers=this.triggers;var cta_div=$('<div/>').css({display:'none'}).html(this.template).attr('id','cta_removerelated');cta_div.find('input[name=authenticity_token]').attr('value',slideshare_object._auth_token);cta_div.appendTo('body');triggers.attr('href','#'+'cta_removerelated');triggers.fancybox({'frameWidth':575,'frameHeight':215,'hideOnContentClick':false,'enableEscapeButton':true,'centerOnScroll':true,'overlayOpacity':0.85,'overlayColor':"#000"});}};}
var template_loader=new SSTemplateLazyLoader({templateUrl:slideshare_object.cached_template_url,templates:templates,delay:5000,version:slideshare_object.asset_id});};slideshare_object.setup_navbar_tipsy=function(){$('.goPro, .j-icon_Notification, .no-notification, .sprite-brand').tooltip({placement:'bottom'});};$(function(){if($('#relatedList').length!==0){$('#relatedList').jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:800});}
if($('.j-removeRelatedCTA').is(':visible')){var removeLink='<li>'+'</li>';$('.jspPane>li:nth(0)').before(removeLink);$('.j-removeRelatedCTA').appendTo('.jspPane li:nth(0)');}
slideshare_object.setup_navbar_tipsy();slideshare_object.svComments=$('.commentsNotes');slideshare_object.svCommentsForm=$('form.h-comment-post');slideshare_object.svCommentsul=$('.commentsNotes .commentWrapper');slideshare_object.svTools=$('ul.h-tools');slideshare_object.setup_instruments_interaction();slideshare_object.setupDescriptionBoxToggle();slideshare_object.setup_lazyload();$('.logo').click(function(e){e.preventDefault();if(slideshare_object.user.loggedin){window.location.href="/?ss";}else{window.location.href="/";}});if(($(".j-more-slideshows").length)&&($(".j-related-slideshows").length===0)){$(".j-more-slideshows").toggleClass('active');slideshare_object.toggleSiblings(".j-more-slideshows",null,".moreContent",null);$('#moreList').jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:800});}
if(($('.h-downloads-list').length)&&$('.h-favs-list').length===0){$('.h-downloads-list').attr('style','display: block; ');$('.h-downloads-tab').toggleClass('active');$('.h-download-pro-notice').toggle();}
$('#flashNotice .close').click(function(e){$('.alertMessage').remove();});var downloadsList=$('#downloadsList');var downloadProNotice=$('.downloadProNotice');$(downloadsList).children().eq(0).clone().html(downloadProNotice.html()).appendTo(downloadsList);downloadProNotice.remove();$('.j-text-version').click(function(e){e.preventDefault();$.scrollTo($(this).attr('href'),500);window._gaq.push(['_trackEvent','bigfoot_slideview','scroll_to_transcript']);});$('.j-post-comment').click(function(e){e.preventDefault();$.scrollTo($(this).attr('href'),500);$('.j-post-comment-textarea').focus();});$('.slideshow-tags a:gt(4)').addClass('hide');$('.j-more-tags').click(function(e){e.preventDefault();if($(this).text()==="More..."){$(this).text("...less");$('a.hide').removeClass('hide');}else{$(this).text("More...");$('.slideshow-tags a:gt(4)').addClass('hide');}});if(slideshare_object.embeds_count>50){$("<tr><td class='url h-url'> and "+(slideshare_object.embeds_count-50)+" other embeds</td></tr>").insertAfter($('.embedDetails tr:last'));}
$('.infoEmbeds table tr:gt(5)').addClass('hide');$('.j-more-embeds').click(function(e){e.preventDefault();if($(this).text()==="More..."){$(this).hide();$(".j-waiting-embeds").show();setTimeout(function(){$(".j-more-embeds").show();$(".j-waiting-embeds").hide();},1000);$(this).text("...less");$('.embedDetails tr.hide').removeClass('hide');}else{$(this).text("More...");$('.embedDetails tr:gt(5)').addClass('hide');}});$('.h-transcripts>li').each(function(index){if($(this).html()===""){$(this).remove();}else{$(this).text(index+1+". "+$(this).text());}});(function(){var tabSet=[{tabToShow:".j-more-slideshows",tabToHide:".j-related-slideshows",contentToShow:".moreContent",contentToHide:".relatedContent",addScrollBar:"#moreList"},{tabToShow:".j-related-slideshows",tabToHide:".j-more-slideshows",contentToShow:".relatedContent",contentToHide:".moreContent"},{tabToShow:".j-comments",tabToHide:".j-notes",contentToShow:".commentsWrapper",contentToHide:".notesWrapper"},{tabToShow:".j-notes",tabToHide:".j-comments",contentToShow:".notesWrapper",contentToHide:".commentsWrapper"},{tabToShow:".j-favorites",tabToHide:".j-downloads",contentToShow:".favWrapper",contentToHide:".downloadWrapper",proNotice:".h-download-pro-notice",favsMoreLink:".j-favs-more"},{tabToShow:".j-downloads",tabToHide:".j-favorites",contentToShow:".downloadWrapper",contentToHide:".favWrapper",proNotice:".h-download-pro-notice",favsMoreLink:".j-favs-more"}];$.each(tabSet,function(index,obj){$(obj.tabToShow).bind('click',function(e){e.preventDefault();$(obj.tabToShow).toggleClass('active');$(obj.tabToHide).toggleClass('active');$(obj.proNotice).toggle();if((obj.tabToShow===".j-favorites")&&(slideshare_object.activities.favorites.count<slideshare_object.activities.favorites.total)){$(obj.favsMoreLink).show();}
else{$(obj.favsMoreLink).hide();}
slideshare_object.toggleSiblings(null,null,obj.contentToShow,obj.contentToHide);$(obj.addScrollBar).jScrollPane({verticalDragMinHeight:100,verticalDragMaxHeight:800});});});if($('.h-skyscraper-ad').length!==0){slideshare_object.ssSkyScraperAd=new SSFixedSkyscraperAd();}})();slideshare_object.setup_tipsy();slideshare_object.setup_comments_interaction();slideshare_object.setup_activitylist_interaction();slideshare_object.setup_contacts_interaction();slideshare_object.setup_fbconnect_interaction();slideshare_object.setup_opengraph_interaction();slideshare_object.setup_flagging_interaction();slideshare_object.setup_su_interaction();slideshare_object.initCtaLazyLoader();slideshare_object.ready();$(".j-notes-tab, .j-comments-tab").unbind('click');window.slideviewInteraction=new slideshare_object.slideviewInteraction();});(function($){var g,d,j=1,a,b=this,f=!1,h="postMessage",e="addEventListener",c,i=b[h]&&!$.browser.opera;$[h]=function(k,l,m){if(!l){return}k=typeof k==="string"?k:$.param(k);m=m||parent;if(i){m[h](k,l.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(l){m.location=l.replace(/#.*$/,"")+"#"+(+new Date)+(j++)+"&"+k}}};$.receiveMessage=c=function(l,m,k){if(i){if(l){a&&c();a=function(n){if((typeof m==="string"&&n.origin!==m)||($.isFunction(m)&&m(n.origin)===f)){return f}l(n)}}if(b[e]){b[l?e:"removeEventListener"]("message",a,f)}else{b[l?"attachEvent":"detachEvent"]("onmessage",a)}}else{g&&clearInterval(g);g=null;if(l){k=typeof m==="number"?m:typeof k==="number"?k:100;g=setInterval(function(){var o=document.location.hash,n=/^#?\d+&/;if(o!==d&&n.test(o)){d=o;l({data:o.replace(n,"")})}},k)}}}})(jQuery);(function($){window.ga_track=function(tag,type,optional_label,optional_value){window._gaq=_gaq||[];_gaq.push(["_trackEvent",tag,type,optional_label,optional_value]);};getUrlVars=function(url){url=url?url:window.location.href;var vars=[],hash;var hashes=url.slice(url.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;};getUrlVar=function(name,url){return this.getUrlVars(url)[name];};isInternalRedirect=function(url){url=decodeURIComponent(url);var dummy_anchor=document.createElement('a');dummy_anchor.href=url;var is_valid_protocol=/http(s)?:$/.test(dummy_anchor.protocol);var is_valid_hostname=(new RegExp('^'+location.hostname+'$')).test(dummy_anchor.hostname);return(is_valid_protocol&&is_valid_hostname);};is_abbr=function(e){return((getUrlVar('download_id',e)&&getUrlVar('download_id',e).length>0)||getUrlVar('abbr',e)=='true'||getUrlVar('from',e)=='download');};var atStep=1;slideshare_object.setup_signup_modal_box=function(){$('a[href*="/login"], a[href*="/signup"]').filter(':not(.void_fancybox)').fancybox({'frameWidth':650,'frameHeight':400,'hideOnContentClick':false,'enableEscapeButton':true,'centerOnScroll':false,'fromType':null,'fromSource':null,'thisLink':null,'callbackOnStart':function(e){thisLink=e.href;atStep=1;if(is_abbr(thisLink)){window.ga_track("Signup","thickbox_loading","download");}else{window.ga_track("Signup","thickbox_loading");}
return true;},'callbackOnShow':function(e){$('#fancy_outer').animate({top:$(document).scrollTop()+40});if(is_abbr(thisLink)){window.ga_track("Signup","thickbox_loaded","download");}else{window.ga_track("Signup","thickbox_loaded");}
modalMessages={'_start':"Login or Signup to ",'download':"download this file.",'addcontact':"follow this user.",'favorite':"favorite this document.",'comments':"post a comment.",'AddToCommunity':"add this document to a group/event.",'follow':"follow this user.",'business':"try LeadShare.",'upload':"start uploading",'contest':"vote",'rsvp':"join this meeting",'_end':""};if(!e||!e.href||e.href.length<1){$('#modal_message').hide();}else{fromType=getUrlVar('from',e.href);fromSource=getUrlVar('from_source',e.href);if(!fromType||fromType.length<1||!modalMessages[fromType]||modalMessages[fromType].length<1){$('#j-signup-notice').hide();}else{$('#j-signup-notice').html(modalMessages._start+modalMessages[fromType]+modalMessages._end);}}
return true;},'callbackOnClose':function(e){if(is_abbr(thisLink)){window.ga_track("Signup","thickbox_closed","download");}else{window.ga_track("Signup","thickbox_closed");}
return true;},'easingIn':'linear','easingOut':'linear','easingChange':'linear','dontSetNavigation':true,'dontShowFancyTitle':true});};window.modal_login={};modal_login.cache_validations={username:false,password:false,email:false,section_one:false};window.modalSignupCallBack=function(){var form_1=$('#signup_form_1');var element=null;window.ga_track("Signup","thickbox_signup_success");element=form_1.find('.submitFormButton .modal-action-message').html("Signup is successful!");element.removeClass('modal-action-fail hide').addClass('modal-action-success');if(fromType!=='business'||!fromSource||fromSource.length<1||!isInternalRedirect(fromSource)){window.location.reload();}else{window.location.href=decodeURIComponent(fromSource);$(window).trigger('submitPaymentForm');}};window.modalLoginCallBack=function(){if(is_abbr(window.thisLink)){_gaq.push(['_trackEvent','Login','ss_login','ss_login_from_fancybox(download)']);}else{_gaq.push(['_trackEvent','Login','ss_login','ss_login_from_fancybox']);}
var escapeUrl=jQuery.inArray(window.fromType,["business","upload","download"])!==-1;if(window.fromType=='unsubscribe'){$.post('/comment/unsubscribe',{'id':slideshare_object.slideshow.id},function(response_data){$('#fancy_close').click();$('.comments-unsubscribe').hide();$('.comments-subscribe').show().highlightOut();$('.comments-subscribe input')[0].checked=false;window.location.href=window.location.origin+window.location.pathname;});}else if(escapeUrl&&window.fromSource&&window.fromSource.length>1&&isInternalRedirect(window.fromSource)){window.location.href=decodeURIComponent(window.fromSource);$(window).trigger('submitPaymentForm');}else{window.location.reload();}};if($.isFunction($.receiveMessage)){$.receiveMessage(function(event){iframe_height=$('#iframe_login').height();fancy_outer_height=$('#fancy_outer').height();if(event.data==='modalLoginSubmit'){modalLoginCallBack();}else if(event.data==='modalSignupSubmit'){modalSignupCallBack();}else if(event.data==='signup_expand'){$('#modal_signup').slideDown('slow');$('#fancy_outer').animate({height:'+=180'});$('#iframe_login').height(iframe_height+180);}else if(event.data==='signup_shrink'){$('#modal_signup').slideUp('slow');$('#fancy_outer').animate({height:'-=180'});$('#iframe_login').height(iframe_height-180);}},(function(){return'https://'+$(location).attr('host');}()));}
$('#signup_username').live('change',function(){if(is_abbr(thisLink)){window.ga_track("Signup","thickbox_formstart","download");}else{window.ga_track("Signup","thickbox_formstart");}});$(document).ready(function(){_gaq.push(['_setAccount','UA-2330466-1']);slideshare_object.setup_signup_modal_box();});})(jQuery);